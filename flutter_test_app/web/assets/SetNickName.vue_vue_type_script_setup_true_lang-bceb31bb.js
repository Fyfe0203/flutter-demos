import{d as w,r as u,a2 as C,o as E,m as N,w as a,f as l,g as o,i as c,C as d,j as V,b as $,E as F,k as B}from"./index-0207282d.js";import{E as I,a as R}from"./el-form-item-cffcfafd.js";/* empty css                  *//* empty css                 */import{u as S}from"./useRule-31f8c705.js";import{E as j}from"./message-4c47188d.js";const T=w({__name:"SetNickName",props:{info:{type:Object,default:()=>{}}},emits:["close"],setup(_,{emit:r}){const k=_,b={nick:S.empty()},m=u(),s=u({email:""});C(()=>{s.value.nick=k.info.nickName});const n=u(!1),y=t=>{t==null||t.validate(async e=>{if(e){n.value=!0;try{await V.putForm("/info/set/nick",s.value),j.success("设置成功"),$().getUserInfo(),r("close",!0)}finally{n.value=!1}}})};return(t,e)=>{const g=F,p=I,f=B,v=R;return E(),N(v,{ref_key:"formRef",ref:m,model:o(s),rules:b,"label-position":"top"},{default:a(()=>[l(p,{label:t.$t("user.t9"),prop:"nick"},{default:a(()=>[l(g,{modelValue:o(s).nick,"onUpdate:modelValue":e[0]||(e[0]=i=>o(s).nick=i),type:"text",class:"w-full"},null,8,["modelValue"])]),_:1},8,["label"]),l(p,null,{default:a(()=>[l(f,{type:"default",disabled:o(n),onClick:e[1]||(e[1]=i=>r("close"))},{default:a(()=>[c(d(t.$t("public.t3")),1)]),_:1},8,["disabled"]),l(f,{type:"primary",loading:o(n),onClick:e[2]||(e[2]=i=>y(o(m)))},{default:a(()=>[c(d(t.$t("public.t2")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])}}});export{T as _};
