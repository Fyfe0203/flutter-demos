import{d as C,r as _,a2 as F,o as n,m as i,w as s,f as o,g as l,c as v,$ as w,ac as E,aa as L,i as T,j as R,E as S,k as j}from"./index-0207282d.js";import{E as I,a as O}from"./el-form-item-cffcfafd.js";/* empty css                  *//* empty css                 */import"./el-tag-0efdc75d.js";import{E as A,a as H}from"./el-select-69ed96fa.js";import"./el-popper-90f9afbe.js";import{u as M}from"./enum-569bea9e.js";import{u as q}from"./useRule-31f8c705.js";const X=C({__name:"AddEditModel",props:{row:{type:Object,default:()=>{}}},emits:["close"],setup(U,{emit:k}){const f=U,c=M(),d={empty:q.empty()},$=_(),a=_({});F(()=>{var u;(u=f.row)!=null&&u.id&&(a.value={...f.row})});const y=_(!1),g=()=>{$.value.validate(async u=>{var t,m;if(u)try{y.value=!0,await R[(t=f.row)!=null&&t.id?"put":"post"]("/contract/"+((m=f.row)!=null&&m.id?"update":"save"),a.value),c.initBase(),k("close",!0)}finally{y.value=!1}})};return(u,t)=>{const m=A,b=H,r=I,V=S,N=j,B=O;return n(),i(B,{ref_key:"formRef",ref:$,model:l(a),"label-width":"120px","label-position":"left"},{default:s(()=>[o(r,{label:u.$t("system.contract.t3"),rules:d.empty,prop:"type"},{default:s(()=>[o(b,{modelValue:l(a).type,"onUpdate:modelValue":t[0]||(t[0]=e=>l(a).type=e),class:"w-full"},{default:s(()=>[(n(!0),v(w,null,E(l(c).contractType,(e,p)=>(n(),i(m,{key:p,label:e,value:+p},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"]),o(r,{label:u.$t("system.contract.t5"),rules:d.empty,prop:"address"},{default:s(()=>[o(V,{modelValue:l(a).address,"onUpdate:modelValue":t[1]||(t[1]=e=>l(a).address=e)},null,8,["modelValue"])]),_:1},8,["label","rules"]),o(r,{label:u.$t("system.contract.t10"),rules:d.empty,prop:"chainType"},{default:s(()=>[o(b,{modelValue:l(a).chainType,"onUpdate:modelValue":t[2]||(t[2]=e=>l(a).chainType=e),class:"w-full",clearable:""},{default:s(()=>[(n(!0),v(w,null,E(l(c).chainList,(e,p)=>(n(),i(m,{key:p,label:e.chainName,value:e.chainType},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"]),o(r,{label:u.$t("system.contract.t2"),rules:d.empty,prop:"name"},{default:s(()=>[o(V,{modelValue:l(a).name,"onUpdate:modelValue":t[3]||(t[3]=e=>l(a).name=e)},null,8,["modelValue"])]),_:1},8,["label","rules"]),o(r,{label:u.$t("system.contract.t16"),prop:"abi"},{default:s(()=>[o(V,{modelValue:l(a).abi,"onUpdate:modelValue":t[4]||(t[4]=e=>l(a).abi=e),type:"textarea",rows:"6"},null,8,["modelValue"])]),_:1},8,["label"]),l(a).type==1?(n(),i(r,{key:0,label:u.$t("system.contract.t17"),rules:d.empty,prop:"decimalsName"},{default:s(()=>[o(b,{modelValue:l(a).decimalsName,"onUpdate:modelValue":t[5]||(t[5]=e=>l(a).decimalsName=e),class:"w-full"},{default:s(()=>[(n(!0),v(w,null,E(l(c).decimalsList,(e,p)=>(n(),i(m,{key:p,label:e.value+"",value:e.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"])):L("",!0),o(r,{class:"pt-4"},{default:s(()=>[o(N,{type:"info",disabled:l(y),onClick:t[6]||(t[6]=e=>k("close"))},{default:s(()=>[T("关闭")]),_:1},8,["disabled"]),o(N,{type:"primary",loading:l(y),onClick:g},{default:s(()=>[T("保存")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])}}});export{X as _};
