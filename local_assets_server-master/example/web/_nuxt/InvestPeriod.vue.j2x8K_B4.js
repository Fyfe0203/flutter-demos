import{_ as N}from"./Title.vue.UQd4CmLy.js";import{_ as k}from"./SelectFrequency.vue.VzcFhHV8.js";import{_ as B}from"./InputNum.vue.NEg85aEa.js";import{_ as D}from"./SelectTime.vue.h2qZeLpw.js";import{_ as M}from"./Timekeeping.vue.YtFmEfTE.js";import{u as h}from"./useFormat.c8XsG793.js";import{u as A,$ as E,j as Y,a as F,ck as H}from"./entry.nbMAVAIE.js";import{d as U,aC as I,a as L,aD as P,c as v,w as b,ao as S,F as _,G as j,H as i,W as l,Y as p,a2 as n,a6 as z,P as y,u as c,X as G,Z as R}from"./swiper-vue.o0IHd9hR.js";const W={class:"w-full border-b border-[#E7E9EC] pb-7 flex items-start flex-col gap-[10px]"},X={class:"flex-center-x gap-x-3"},Z={class:"flex-1 text-base font-medium"},J={class:"flex-1 text-base text-gray-sec"},ie=U({__name:"InvestPeriod",props:I({investAmount:{default:10},disabled:{type:Boolean,default:!1},botNo:{default:""},investCoin:{default:""}},{modelValue:{default:()=>({frequency:void 0,timeType:void 0,startTime:void 0,pointTime:"12:00",times:1})},modelModifiers:{}}),emits:["update:modelValue"],setup(f){const o=f,m=L(1),e=P(f,"modelValue"),T=v(()=>h.div(+(o.investAmount||10),e.value.times||1).toFixed(6,0)),u=A().enum.frequencyList,{formItem:d}=E(),r=v(()=>{var t;return(t=Y(u,e.value.timeType))==null?void 0:t.getNextExTime(e.value.frequency,e.value.pointTime)}),x=H(()=>{e.value.pointTime=e.value.timeType!==u[0].value?e.value.pointTime||"12:00":"",e.value.startTime=r.value?+new Date(r.value):void 0,d==null||d.validate("change").catch(t=>{})},10);return b([()=>e.value.timeType,r],x,{deep:!0}),b(()=>o.investAmount,t=>{if(+t<=10){m.value=1;return}F.post("/bot/opt/maxinvestnum",{type:o.botNo?2:1,botNo:o.botNo,coinCode:o.investCoin,amount:o.investAmount}).then(({data:a})=>{m.value=a.value.data??1})}),(t,a)=>{const C=N,V=k,g=B,$=D,w=M,q=S("i18n-t");return _(),j("div",W,[i("div",X,[i("div",Z,[l(C,{desc:t.$t("bot.t945")},{default:p(()=>[z(n(t.$t("bot.t941")),1)]),_:1},8,["desc"])])]),l(V,{timeType:e.value.timeType,"onUpdate:timeType":a[0]||(a[0]=s=>e.value.timeType=s),frequency:e.value.frequency,"onUpdate:frequency":a[1]||(a[1]=s=>e.value.frequency=s),disabled:t.disabled,placeholder:t.$t("bot.t942")},null,8,["timeType","frequency","disabled","placeholder"]),i("div",{class:y(["el-input",{"is-disabled cursor-not-allowed":t.disabled}])},[i("div",{class:y(["el-input__wrapper w-full flex-center-x",{"!cursor-not-allowed":t.disabled}])},[i("div",J,n(t.$t("bot.t934")),1),l(g,{modelValue:e.value.times,"onUpdate:modelValue":a[2]||(a[2]=s=>e.value.times=s),min:1,max:c(m),precision:0,disabled:t.disabled,class:"!w-[90px]"},null,8,["modelValue","max","disabled"])],2)],2),e.value.timeType!==c(u)[0].value?(_(),G($,{key:0,modelValue:e.value.pointTime,"onUpdate:modelValue":a[3]||(a[3]=s=>e.value.pointTime=s),start:"00:00",step:"00:60",end:"23:59","prefix-text":t.$t("bot.t943"),class:"w-full",disabled:t.disabled},null,8,["modelValue","prefix-text","disabled"])):R("",!0),l(q,{keypath:"bot.t944",tag:"div",class:"text-gray-sec text-sm"},{time:p(()=>[l(w,{"begin-time":e.value.startTime,format:"YYYY-MM-DD HH:mm",class:"inline-block"},null,8,["begin-time"])]),amount:p(()=>[i("span",null,n(c(T))+" "+n(t.$stableCoin),1)]),_:1})])}}});export{ie as _};
