import{u as T,_ as E,a as z}from"./useTable-141dc978.js";import{d as D,al as B,ay as j,o as F,m as N,w as i,e as d,f as o,i as l,C as n,g as r,az as S,Y as V,ax as x,j as I,k as L}from"./index-cba2b4c0.js";import{E as A,a as H}from"./el-table-column-29b9dcad.js";import"./el-checkbox-ee806963.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-b7327fbb.js";import{_ as M}from"./Timekeeping.vue_vue_type_script_setup_true_lang-17672903.js";import"./el-tag-3e82924f.js";/* empty css                  */import{_ as P}from"./AddEditModel.vue_vue_type_script_setup_true_lang-1797fec2.js";import{u as Q}from"./enum-223dcce8.js";import{u as U}from"./useConfirm-a0ba45e7.js";import{E as Y}from"./message-71d8a824.js";import"./el-form-item-a7ed5b06.js";import"./castArray-8dcd6c67.js";import"./_Uint8Array-4a491129.js";import"./_initCloneObject-d933937d.js";/* empty css                 */import"./el-select-7e09c5da.js";import"./strings-091bd2d7.js";import"./isEqual-014128fa.js";import"./index-877b19ec.js";import"./hasIn-40dec949.js";import"./flatten-b246eae0.js";import"./raf-5985b260.js";import"./useDate-0bf7f9c9.js";import"./UploadAvatar.vue_vue_type_script_setup_true_lang-8f21207f.js";import"./el-loading-73839a64.js";import"./useRule-31f8c705.js";const q={class:"flex justify-end flex-1"},G=["data-key"],J={class:"table-btn-cell"},Et=D({__name:"index",setup(K){const{pending:f,tableData:_,pagination:w,refresh:p,search:O,reset:R}=T({method:"post",url:"/coin/page"}),{t:g}=B(),b=Q(),u=t=>{x.add({component:P,type:"dialog",width:"500px",title:t!=null&&t.id?"编辑":"新增",showClose:!1,props:{row:t},afterClose(s){s&&p()}})},h=t=>{U(g("system.coins.t6"),async s=>{try{await I.post("/coin/delete/",{id:t.id}),Y.success("操作成功"),p()}finally{s()}})};return(t,s)=>{const c=L,a=A,y=M,v=H,C=E,$=z,k=j("lazy");return F(),N($,{pending:r(f)},{action:i(()=>[d("div",q,[o(c,{type:"primary",size:"small",onClick:s[0]||(s[0]=e=>u())},{default:i(()=>[l(n(t.$t("public.t5")),1)]),_:1})])]),result:i(()=>[o(v,{data:r(_),class:"w-full",stripe:""},{default:i(()=>[o(a,{label:"币种类型","min-width":"100",align:"center","show-overflow-tooltip":""},{default:i(e=>{var m;return[l(n(((m=r(S)(r(b).coinTypeList,e.row.coinType))==null?void 0:m.desc)||"-"),1)]}),_:1}),o(a,{label:t.$t("system.coins.t1"),"min-width":"100",align:"center","show-overflow-tooltip":""},{default:i(e=>[l(n(e.row.coinCode||"-"),1)]),_:1},8,["label"]),o(a,{label:t.$t("system.coins.t2"),prop:"showAccuracy","min-width":"100",align:"center","show-overflow-tooltip":""},null,8,["label"]),o(a,{label:t.$t("system.coins.t3"),"min-width":"100",align:"center","show-overflow-tooltip":""},{default:i(e=>[V(d("img",{"data-key":e.row.coinCode,class:"w-8 h-8 rounded-full object-cover m-auto",alt:""},null,8,G),[[k,e.row.imgUrl]])]),_:1},8,["label"]),o(a,{label:t.$t("system.coins.t4"),"min-width":"200",align:"center","show-overflow-tooltip":""},{default:i(e=>[l(n(e.row.chainType||""),1)]),_:1},8,["label"]),o(a,{label:t.$t("system.coins.t5"),"min-width":"130",align:"center","show-overflow-tooltip":""},{default:i(e=>[o(y,{"begin-time":e.row.createTimestamp},null,8,["begin-time"])]),_:1},8,["label"]),o(a,{label:"是否体验金币种","min-width":"130",align:"center","show-overflow-tooltip":""},{default:i(e=>[l(n(e.row.experFlag?"是":"否"),1)]),_:1}),o(a,{label:t.$t("public.t7"),"min-width":"120",align:"center",fixed:"right"},{default:i(e=>[d("div",J,[o(c,{type:"primary",size:"small",plain:"",onClick:m=>u(e.row)},{default:i(()=>[l(n(t.$t("public.t11")),1)]),_:2},1032,["onClick"]),o(c,{type:"danger",size:"small",plain:"",onClick:m=>h(e.row)},{default:i(()=>[l(n(t.$t("public.t12")),1)]),_:2},1032,["onClick"])])]),_:1},8,["label"])]),_:1},8,["data"]),o(C,{pagination:r(w),class:"mt-4",onChange:r(p)},null,8,["pagination","onChange"])]),_:1},8,["pending"])}}});export{Et as default};
