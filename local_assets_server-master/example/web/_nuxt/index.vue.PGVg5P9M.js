import{u as S,t as g,g as V,h as z,a as D,d as H}from"./entry.iYjkhHK1.js";import{_ as I}from"./Num.vue.S3KHwF00.js";import{_ as R}from"./Line.vue.9kbdDOSN.js";import{u as W}from"./useScrollIntoView.iqzQf8Ei.js";import{d as j,a as n,c as w,j as q,E as F,F as p,G as x,H as a,a2 as m,W as b,P as G,u as s,T as N,al as P,Z as Q}from"./swiper-vue.o0IHd9hR.js";const U={class:"panel-title !h-[50px] px-[30px] text-gray2 !text-base !hidden lg:!flex"},Z={class:"flex-1"},A={key:0,class:"panel-content py-4 px-[30px] flex-1 flex flex-col gap-2 lg:gap-4"},J={class:"block lg:hidden text-xs text-gray2 font-semibold"},K={class:"grid md:grid-cols-3 gap-[10px]"},M=["src"],O={class:"flex-1 overflow-hidden"},X={class:"text-xs lg:text-sm text-gray-sec truncate"},Y={class:"lg:flex-1 border border-[#F2F5F9] rounded-2xl h-[210px] lg:h-auto"},ne=j({__name:"index",setup(ee){const{stableCoin:$}=S().app,i=n([{label:`${g("bot.t917")}(${$})`,value:"0.000000",icon:"icon1.png",unit:"",decimal:6},{label:g("bot.t918"),value:"0",icon:"icon2.png",unit:"%",decimal:2},{label:g("bot.t919"),value:"0",icon:"icon2.png",unit:"%",decimal:2}]),f=n(!1),c=n({}),k=w(()=>{var e;return((e=c.value.days)==null?void 0:e.map(t=>+t.amount))??[]}),C=w(()=>{var e;return((e=c.value.days)==null?void 0:e.map(t=>t.currDay))??[]});let r;const v=async e=>{f.value=!0;try{const{data:t}=await D.get("/backtest/get/"+e);c.value=t.value.data||{},c.value.status===2?f.value=!1:r=setTimeout(v,1e3,e)}catch{r=setTimeout(v,1e3,e)}},h=n(),E=V("query-backtest-chart").on(e=>{e&&(l.value=!0,W(h.value),v(e))});q(()=>{E(),r&&clearTimeout(r)});const y=n(0),T=({dataIndex:e})=>{y.value=e};F(()=>{var u,d;const{apy:e="0",pnl:t="0",roi:_="0"}=((d=(u=c.value)==null?void 0:u.days)==null?void 0:d[y.value])??{};i.value[0].value=t,i.value[1].value=_,i.value[2].value=e});const l=n(!1),{width:B}=z();return F(()=>{B.value>=992&&(l.value=!0)}),(e,t)=>{const _=H,u=I,d=R;return p(),x("div",{ref_key:"backtestRef",ref:h,class:"panel flex flex-col m-4 lg:m-0 lg:mt-2 rounded-2xl overflow-hidden"},[a("div",U,m(e.$t("bot.t915")),1),a("div",{class:"panel-title !h-[50px] px-[30px] text-gray2 !text-base lg:!hidden !flex cursor-pointer",onClick:t[0]||(t[0]=o=>l.value=!s(l))},[a("div",Z,m(e.$t("bot.t916")),1),b(_,{name:"arr_down_sold",class:G(["text-[10px] transition-all transform",s(l)?"rotate-180":""])},null,8,["class"])]),s(l)?(p(),x("div",A,[a("div",J,m(e.$t("bot.t915")),1),a("div",K,[(p(!0),x(N,null,P(s(i),(o,L)=>(p(),x("div",{key:L,class:"bg-[#F1F5FF] rounded-[10px] py-3 px-5 flex-center-x gap-[10px]"},[a("img",{src:`/static/img/create/${o.icon}`,class:"w-8 lg:w-[50px]",alt:""},null,8,M),a("div",O,[b(u,{value:o.value,unit:o.unit,decimal:o.decimal,class:"font-semibold text-base lg:text-xl text-gray2 w-full"},null,8,["value","unit","decimal"]),a("div",X,m(o.label),1)])]))),128))]),a("div",Y,[b(d,{class:"h-full",loading:s(f),list:s(k),axis:s(C),onTooltip:T},null,8,["loading","list","axis"])])])):Q("",!0)],512)}}});export{ne as _};
