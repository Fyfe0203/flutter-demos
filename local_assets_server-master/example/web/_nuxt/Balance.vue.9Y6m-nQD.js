import{_ as D}from"./Num.vue.S3KHwF00.js";import{u as i,g as _,ck as k,d as T}from"./entry.iYjkhHK1.js";import{u as V}from"./useDialogDemo.maJlTrXP.js";import{d as $,aC as M,c,aD as p,w as f,j as N,F as C,G as v,N as x,W as g,u as t,P as E,Z as j}from"./swiper-vue.o0IHd9hR.js";const w={class:"inline-flex items-center gap-1"},R=$({__name:"Balance",props:M({chainType:{default:""},coinCode:{default:""},deposit:{type:Boolean,default:!0},numClass:{default:""},balance:{default:null}},{loading:{type:Boolean,default:!1},loadingModifiers:{},modelValue:{default:()=>({balance:0,coinCode:""})},modelModifiers:{}}),emits:["update:loading","update:modelValue"],setup(u){const n=u,o=c(()=>n.coinCode||l.value.coinCode||i().app.stableCoin),s=c(()=>n.chainType||""),b=c(()=>{var e;return(e=i().app.expCoins.find(a=>a.coinCode===o.value&&a.chainType===s.value))==null?void 0:e.experFlag}),d=p(u,"loading"),l=p(u,"modelValue"),m=k(()=>{s.value&&(d.value=!0,i().app.getBalance(s.value,o.value).then(e=>{l.value=e}).finally(()=>{d.value=!1}))},100);n.balance?f(()=>n.balance,()=>{l.value=n.balance||{balance:0,coinCode:""}},{immediate:!0}):f([s,o],([e,a])=>{e&&m()},{immediate:!0});const y=_("socket-message").on(()=>{m()});return N(y),(e,a)=>{var r;const B=D,h=T;return C(),v("div",w,[x(e.$slots,"default"),g(B,{value:(r=l.value)==null?void 0:r.balance,unit:` ${t(o)}`,class:E(e.numClass)},null,8,["value","unit","class"]),e.deposit&&!t(b)?(C(),v("button",{key:0,type:"button",class:"text-primary text-sm",onClick:a[0]||(a[0]=F=>("useDialogDemo"in e?e.useDialogDemo:t(V)).deposit({props:{chainType:e.chainType,coinCode:t(o)}}))},[g(h,{name:"bot/inject"})])):j("",!0)])}}});export{R as _};
