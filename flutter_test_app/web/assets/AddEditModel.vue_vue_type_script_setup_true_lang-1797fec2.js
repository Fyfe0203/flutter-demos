import{d as L,r as _,U as R,l as S,o as p,m as w,w as s,f as e,g as t,c as C,$ as T,ac as $,i as U,j,E as x,B as O,k as P}from"./index-cba2b4c0.js";import{E as z,a as H}from"./el-form-item-a7ed5b06.js";/* empty css                  */import{_ as M}from"./UploadAvatar.vue_vue_type_script_setup_true_lang-8f21207f.js";/* empty css                 */import"./el-tag-3e82924f.js";import{E as q,a as D}from"./el-select-7e09c5da.js";import"./el-popper-b7327fbb.js";import{u as G}from"./enum-223dcce8.js";import{u as i}from"./useRule-31f8c705.js";const oe=L({__name:"AddEditModel",props:{row:{type:Object,default:()=>{}}},emits:["close"],setup(k,{emit:g}){const c=k,y=G(),r={empty:i.empty(),gteint:[i.empty(),i.gteint()],decimal:[i.empty(),...i.decimal(2,[0,100,!0])]},v=_(),a=_({coinCode:"",showAccuracy:6,imgUrl:"",chainType:"",experFlag:0});R(()=>{var u;return(u=c.row)==null?void 0:u.id},u=>{u&&(a.value={...c.row})},{immediate:!0});const f=_(!1),A=()=>{v.value.validate(async u=>{var o,m;if(u)try{f.value=!0,await j[(o=c.row)!=null&&o.id?"put":"post"]("/coin/"+((m=c.row)!=null&&m.id?"update":"save"),a.value),y.initBase(),g("close",!0)}finally{f.value=!1}})};return(u,o)=>{const m=q,b=D,n=z,d=x,F=S("Plus"),B=O,N=M,E=P,I=H;return p(),w(I,{ref_key:"formRef",ref:v,model:t(a),"label-width":"140px","label-position":"left"},{default:s(()=>[e(n,{label:"币种类型",rules:r.empty,prop:"coinType"},{default:s(()=>[e(b,{modelValue:t(a).coinType,"onUpdate:modelValue":o[0]||(o[0]=l=>t(a).coinType=l),class:"w-full"},{default:s(()=>[(p(!0),C(T,null,$(t(y).coinTypeList,(l,V)=>(p(),w(m,{key:V,label:l.desc,value:l.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["rules"]),e(n,{label:u.$t("system.coins.t1"),prop:"coinCode",rules:r.empty},{default:s(()=>[e(d,{modelValue:t(a).coinCode,"onUpdate:modelValue":o[1]||(o[1]=l=>t(a).coinCode=l)},null,8,["modelValue"])]),_:1},8,["label","rules"]),e(n,{label:u.$t("system.coins.t8"),prop:"coinName",rules:r.empty},{default:s(()=>[e(d,{modelValue:t(a).coinName,"onUpdate:modelValue":o[2]||(o[2]=l=>t(a).coinName=l)},null,8,["modelValue"])]),_:1},8,["label","rules"]),e(n,{label:u.$t("system.coins.t2"),prop:"showAccuracy",rules:r.gteint},{default:s(()=>[e(d,{modelValue:t(a).showAccuracy,"onUpdate:modelValue":o[3]||(o[3]=l=>t(a).showAccuracy=l),placeholder:u.$t("system.coins.t7")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),e(n,{label:u.$t("system.coins.t9"),prop:"issuedAmount",rules:r.gteint},{default:s(()=>[e(d,{modelValue:t(a).issuedAmount,"onUpdate:modelValue":o[4]||(o[4]=l=>t(a).issuedAmount=l)},null,8,["modelValue"])]),_:1},8,["label","rules"]),e(n,{label:u.$t("system.coins.t3"),prop:"imgUrl",rules:r.empty},{default:s(()=>[e(N,{modelValue:t(a).imgUrl,"onUpdate:modelValue":o[5]||(o[5]=l=>t(a).imgUrl=l),class:"w-10 h-10"},{default:s(()=>[e(B,{size:25,class:"!w-full !h-full border border-dashed border-[#ccc] rounded-lg"},{default:s(()=>[e(F)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label","rules"]),e(n,{label:u.$t("system.coins.t4"),rules:r.empty,prop:"chainType"},{default:s(()=>[e(b,{modelValue:t(a).chainType,"onUpdate:modelValue":o[6]||(o[6]=l=>t(a).chainType=l),class:"w-full"},{default:s(()=>[(p(!0),C(T,null,$(t(y).chainList,(l,V)=>(p(),w(m,{key:V,label:l.chainName,value:l.chainType},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"]),e(n,{label:"交易滑点",prop:"split",rules:r.decimal},{default:s(()=>[e(d,{modelValue:t(a).split,"onUpdate:modelValue":o[7]||(o[7]=l=>t(a).split=l)},{append:s(()=>[U("%")]),_:1},8,["modelValue"])]),_:1},8,["rules"]),e(n,{label:"外链信息",prop:"outsideUrl",rules:r.empty},{default:s(()=>[e(d,{modelValue:t(a).outsideUrl,"onUpdate:modelValue":o[8]||(o[8]=l=>t(a).outsideUrl=l)},null,8,["modelValue"])]),_:1},8,["rules"]),e(n,{label:"是否体验金币种",prop:"experFlag",rules:r.empty},{default:s(()=>[e(b,{modelValue:t(a).experFlag,"onUpdate:modelValue":o[9]||(o[9]=l=>t(a).experFlag=l),class:"w-full"},{default:s(()=>[e(m,{label:"否",value:0}),e(m,{label:"是",value:1})]),_:1},8,["modelValue"])]),_:1},8,["rules"]),e(n,{class:"pt-4"},{default:s(()=>[e(E,{type:"info",disabled:t(f),onClick:o[10]||(o[10]=l=>g("close"))},{default:s(()=>[U("关闭")]),_:1},8,["disabled"]),e(E,{type:"primary",loading:t(f),onClick:A},{default:s(()=>[U("保存")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])}}});export{oe as _};
