import{u as V,d as L}from"./entry.nbMAVAIE.js";import O from"./Popover.Yc1BA_KB.js";import{d as P,a as p,c as W,E as j,F as c,X as h,Y as q,P as v,a2 as m,H as r,u as n,W as z,T as B,Z as y,G as f,al as T,k as D}from"./swiper-vue.o0IHd9hR.js";const G={class:"flex-1 text-base text-gray-sec"},H=["value"],R={class:"flex text-gray2 text-base max-h-[250px] overflow-hidden"},U={class:"overflow-y-auto flex-1"},X=["onClick"],Y={class:"flex-1"},Z={key:0,class:"overflow-y-auto flex-1"},A=["onClick"],I={class:"flex-1"},Q=P({__name:"SelectFrequency",props:{timeType:{default:void 0},frequency:{default:void 0},hideOnClick:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["update:timeType","update:frequency"],setup(E,{emit:S}){const _=E,b=S,u=p(!1),x=p(null),k=p(200),w=V().enum.frequencyList,o=p([]),$=W(()=>{var e,t;return[(e=o.value[0])==null?void 0:e.label,(t=o.value[1])==null?void 0:t.label].filter(l=>!!l).join(" ")}),C=()=>{var a;const[e,t]=[_.timeType,_.frequency],l=w.find(s=>s.value===e),i=(a=l==null?void 0:l.children)==null?void 0:a.find(s=>s.value===t);o.value=[l,i]},F=()=>{var e;k.value=((e=x.value)==null?void 0:e.clientWidth)??360,C()};j(C);const g=(e,t)=>{var a;e===0&&o.value.splice(1,1,(a=t.children)==null?void 0:a[0]),o.value.splice(e,1,t);const[l,i]=o.value;b("update:timeType",l==null?void 0:l.value),b("update:frequency",(i==null?void 0:i.value)??1),!(t!=null&&t.children)&&_.hideOnClick&&(u.value=!1)};return(e,t)=>{const l=L,i=O;return c(),h(i,{visible:n(u),"onUpdate:visible":t[0]||(t[0]=a=>D(u)?u.value=a:null),placement:"bottom",width:n(k),trigger:"click","popper-class":"cus-select-frequency",disabled:e.disabled,onBeforeEnter:F},{reference:q(()=>[r("div",{class:v(["el-input w-full",{"is-disabled cursor-not-allowed":e.disabled}])},[r("div",{ref_key:"el",ref:x,class:v(["cus-select-frequency-input el-input__wrapper w-full flex-center-x text-right",e.disabled?"!cursor-not-allowed":"!cursor-pointer"])},[r("div",G,m(e.$t("bot.t933")),1),r("input",{value:n($),type:"text",class:v(["el-input__inner !pr-2",e.disabled?"!cursor-not-allowed":"!cursor-pointer"]),placeholder:"Please choose...",autocomplete:"off",readonly:""},null,10,H),z(l,{name:"arr_down_sold",class:v(["text-[10px] transition-all transform",n(u)?"rotate-180":""])},null,8,["class"])],2)],2)]),default:q(()=>{var a;return[r("div",R,[r("dl",U,[(c(!0),f(B,null,T(n(w),s=>{var d;return c(),f("dd",{key:s.value,class:"p-3 cursor-pointer pl-5 flex-center-x hover:bg-[#f5f7fa]",onClick:N=>g(0,s)},[r("div",Y,m(s.label),1),((d=n(o)[0])==null?void 0:d.value)===s.value?(c(),h(l,{key:0,name:"create/choose"})):y("",!0)],8,X)}),128))]),(a=n(o)[0])!=null&&a.children?(c(),f("dl",Z,[(c(!0),f(B,null,T(n(o)[0].children,s=>{var d;return c(),f("dd",{key:s.value,class:"p-3 cursor-pointer pl-5 flex-center-x hover:bg-[#f5f7fa]",onClick:N=>g(1,s)},[r("div",I,m(s.label),1),((d=n(o)[1])==null?void 0:d.value)===s.value?(c(),h(l,{key:0,name:"create/choose"})):y("",!0)],8,A)}),128))])):y("",!0)])]}),_:1},8,["visible","width","disabled"])}}});export{Q as _};
