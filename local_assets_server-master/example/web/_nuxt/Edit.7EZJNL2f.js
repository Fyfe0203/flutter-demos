import{E as D}from"./el-input.LbCLpOjr.js";import{a as S,E as z}from"./el-form.bSdGaXOr.js";import{_ as H}from"./Balance.vue.nGELT4DT.js";import{_ as Y}from"./InputDecimal.vue.tmlsZSYi.js";import{_ as q}from"./AutoBalance.vue.wRG84zrg.js";import{_ as G}from"./InvestPeriod.vue.j2x8K_B4.js";import J from"./Button.bEOq16Ty.js";import{j as K,u as M,aY as O,a as W,t as X,b as Z}from"./entry.nbMAVAIE.js";import{v as Q}from"./el-loading.D22Kx2rY.js";import{c as ee,g as oe,f as te}from"./form-rules.35IDw2pm.js";import{d as ae,a as f,E as se,an as le,R as h,u as e,F as d,G as u,W as l,Y as n,T as ne,a2 as r,H as m,al as ie,k as de,a6 as P,X as $,Z as y}from"./swiper-vue.o0IHd9hR.js";import"./typescript.WBLZcIum.js";import"./castArray.IfhTYq5g.js";import"./_baseClone.DMOROgmz.js";import"./_initCloneObject.aIezyqVt.js";import"./Num.vue.DVqKCmb3.js";import"./useFormat.c8XsG793.js";import"./useDialogDemo.rVmU9QRz.js";import"./el-button.fhXFyBz0.js";import"./validator.82JMvZTK.js";import"./Title.vue.UQd4CmLy.js";import"./el-switch.-0q8lMhM.js";import"./el-radio-group.M6JSHG9B.js";import"./Radius.vue.g_HkvIkI.js";import"./SelectFrequency.vue.VzcFhHV8.js";import"./Popover.Yc1BA_KB.js";import"./InputNum.vue.NEg85aEa.js";import"./SelectTime.vue.h2qZeLpw.js";import"./el-select.RruZyq39.js";import"./el-tag.LFe8JwdU.js";import"./strings.4WpO55ZO.js";/* empty css                     */import"./Timekeeping.vue.YtFmEfTE.js";const re={class:"create-form-manual relative text-main2 py-5 flex flex-col h-full"},me={class:"grid grid-cols-2 gap-3 w-full"},pe=["data-key"],ue={class:"flex-1 text-base"},ce={class:"text-sm"},fe={class:"text-gray2 text-base flex-center-x gap-1 absolute right-0 top-[-30px] w-[60%]"},be={class:"text-main2"},_e={class:"text-main2"},ve={key:0,class:"pt-1 px-5 md:px-[30px]"},Xe=ae({__name:"Edit",props:{disabled:{type:Boolean,default:!1},botNo:{default:""},botType:{default:1},chainType:{default:""}},emits:["close"],setup(F,{emit:w}){var k;const E=w,c=F,b=(k=K(M().enum.botsList,c.botType))==null?void 0:k.key,C=f(),o=ee(c),p=f({}),x=oe(p),V=f(!1);te(c.botNo,o,V),se(()=>{o.coinCode=p.value.coinCode});const _=f(!1),j=t=>{t==null||t.validate(async s=>{if(s){_.value=!0;try{const{botNo:v}=c,{price:i,botName:g}=o;await W.post("/bot/change/edit",{botNo:v,price:i,botName:g,execConfig:JSON.stringify(o.botExecConfigParam[b==="auto"?"investAdvancePojo":"smartAdvancePojo"])}),E("close",!0),Z.success(X("bot.t938"))}finally{_.value=!1}}})};return(t,s)=>{const v=D,i=S,g=H,N=Y,A=q,B=G,T=z,I=J,R=le("lazy"),U=Q;return h((d(),u("div",re,[l(T,{ref_key:"formRef",ref:C,"label-position":"top",model:e(o),class:"cus-form w-full flex-1 overflow-y-auto px-5 md:px-[30px]",style:{"--placeholder":"var(--text-gray-sec)"},"hide-required-asterisk":""},{default:n(()=>[l(i,{prop:"botName",rules:t.disabled?[]:e(x).botName},{default:n(()=>[l(v,{modelValue:e(o).botName,"onUpdate:modelValue":s[0]||(s[0]=a=>e(o).botName=a),placeholder:t.$t("bot.t936"),disabled:t.disabled},null,8,["modelValue","placeholder","disabled"])]),_:1},8,["rules"]),l(i,null,{default:n(()=>[m("dl",me,[(d(!0),u(ne,null,ie(e(o).botCoinParamList,(a,L)=>(d(),u("dd",{key:L,class:"flex-center-x gap-[10px] bg-[#F3F3F3] rounded-[10px] p-[10px] font-medium text-main2"},[h((d(),u("img",{key:a.coinCode,"data-key":a.coinCode,class:"h-6 w-6 rounded-full object-cover",alt:""},null,8,pe)),[[R,("findCoinImg"in t?t.findCoinImg:e(O))(a)]]),m("div",ue,r(a.coinCode),1),m("div",ce,r(a.ratio)+"%",1)]))),128))])]),_:1}),l(i,{label:t.$t("bot.t74"),class:"relative"},{default:n(()=>[m("div",fe,[l(g,{modelValue:e(p),"onUpdate:modelValue":s[1]||(s[1]=a=>de(p)?p.value=a:null),"chain-type":e(o).chainType,class:"w-full justify-end",deposit:!1},{default:n(()=>[P(r(t.$t("bot.t56"))+"ï¼š ",1)]),_:1},8,["modelValue","chain-type"])]),l(N,{modelValue:e(o).amount,"onUpdate:modelValue":s[2]||(s[2]=a=>e(o).amount=a),disabled:""},{suffix:n(()=>[m("span",be,r(e(o).coinCode??t.$stableCoin),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(b)==="smart"?(d(),$(i,{key:0,prop:"autoRebalance"},{default:n(()=>[l(A,{modelValue:e(o).botExecConfigParam.smartAdvancePojo,"onUpdate:modelValue":s[3]||(s[3]=a=>e(o).botExecConfigParam.smartAdvancePojo=a),disabled:t.disabled},null,8,["modelValue","disabled"])]),_:1})):y("",!0),e(b)==="auto"?(d(),$(i,{key:1,prop:"runTime",rules:e(x).runTime},{default:n(()=>[l(B,{modelValue:e(o).botExecConfigParam.investAdvancePojo,"onUpdate:modelValue":s[4]||(s[4]=a=>e(o).botExecConfigParam.investAdvancePojo=a),"invest-amount":e(o).amount,"invest-coin":e(o).coinCode,disabled:t.disabled},null,8,["modelValue","invest-amount","invest-coin","disabled"])]),_:1},8,["rules"])):y("",!0),l(i,{label:t.$t("bot.t67")},{default:n(()=>[l(N,{modelValue:e(o).price,"onUpdate:modelValue":s[5]||(s[5]=a=>e(o).price=a),min:0,placeholder:t.$t("bot.t937"),disabled:t.disabled},{suffix:n(()=>[m("span",_e,r(t.$stableCoin),1)]),_:1},8,["modelValue","placeholder","disabled"])]),_:1},8,["label"])]),_:1},8,["model"]),t.disabled?y("",!0):(d(),u("div",ve,[l(I,{loading:e(_),onClick:s[6]||(s[6]=a=>j(e(C)))},{default:n(()=>[P(r(t.$t("login.t33")),1)]),_:1},8,["loading"])]))])),[[U,e(V)]])}}});export{Xe as default};
