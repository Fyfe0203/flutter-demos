import{E as q}from"./el-input.2YP29THG.js";import{E as F,a as I}from"./el-form.UODZHNuU.js";import{_ as L}from"./Password.vue.L8-DND9z.js";import{q as N,i as T,a as U,u as H,c as M,v as W}from"./entry.iYjkhHK1.js";import G from"./Button.0ywGpm4G.js";import{_ as Y}from"./WalletBtn.vue.8ugZgQxU.js";import{_ as j}from"./nuxt-link.7fi0nmz6.js";import{_ as z}from"./EmailVer.vue.KJopnFU1.js";/* empty css                    */import{d as A,a as _,r as J,ao as K,F as f,G as g,H as n,u as t,a2 as m,W as s,Y as l,a4 as k,a6 as v}from"./swiper-vue.o0IHd9hR.js";import{u as x}from"./useRule.CHyDcC58.js";import{u as O}from"./useMd5.P3WT83Q7.js";import{u as P}from"./useDialogDemo.maJlTrXP.js";import"./typescript.WBLZcIum.js";import"./castArray.0RPp3WxM.js";import"./_baseClone._afwB-RI.js";import"./_initCloneObject.cX7xIYQh.js";import"./Popover.DkDDBqO1.js";import"./el-button.EgmKH-rJ.js";import"./BtnCode.vue.9OF_cFag.js";import"./raf.eY1FXr7V.js";import"./validator.SQwMGO7Q.js";const Q={class:"register-main md:min-h-[650px] w-full md:max-w-[580px] relative"},X={class:"form-div md:min-h-[600px] md:absolute md:-bottom-5 md:-left-6 md:w-[calc(100%+70px)]"},Z={key:0,class:"max-w-[400px] mx-auto"},ee={class:"text-xl md:text-[26px] font-semibold pb-6"},oe={class:"flex-center text-base pt-5 pb-2 gap-2"},te={key:1,class:"max-w-[400px] mx-auto"},se={class:"flex-center text-base pt-6"},De=A({__name:"[...code]",setup(ae){const d=_(1),{t:b}=N(),u={email:x.email("/check-email-exists"),password:x.password(b("rule.t004")),read:[{type:"enum",required:!0,enum:[!0],message:b("common.t09")}]},w=_(),a=J({email:"",password:"",read:!1}),c=_(!1),$=async e=>{var o;c.value=!0;try{const p=((o=T().params.code)==null?void 0:o[0])??"",{data:r}=await U.post("/register",{email:a.email,pwd:O(a.password),code:e,refCode:p});H().app.login(r.value.data),setTimeout(()=>M.add({component:"LoginRegisterSuccess",width:"450px",showClose:!1}),300)}catch{}finally{c.value=!1}},V=e=>{e==null||e.validate(o=>{o&&d.value===1&&(d.value=2)})};return(e,o)=>{const p=q,r=I,y=L,h=K("i18n-t"),C=W,D=G,R=Y,B=j,E=F,S=z;return f(),g("div",Q,[n("div",X,[t(d)===1?(f(),g("div",Z,[n("div",ee,m(e.$t("login.t01")),1),s(E,{ref_key:"formRef",ref:w,"label-position":"top",model:t(a),"hide-required-asterisk":"",class:"cus-form"},{default:l(()=>[s(r,{label:e.$t("login.t02"),prop:"email",rules:u.email},{default:l(()=>[s(p,{modelValue:t(a).email,"onUpdate:modelValue":o[0]||(o[0]=i=>t(a).email=i),placeholder:e.$t("login.t03")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),s(r,{label:e.$t("login.t04"),prop:"password",rules:u.password},{default:l(()=>[s(y,{modelValue:t(a).password,"onUpdate:modelValue":o[1]||(o[1]=i=>t(a).password=i),placeholder:e.$t("login.t06"),"format-tip":""},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),s(r,{prop:"read",rules:u.read},{default:l(()=>[s(C,{modelValue:t(a).read,"onUpdate:modelValue":o[4]||(o[4]=i=>t(a).read=i),class:"text-base w-full mb-3"},{default:l(()=>[s(h,{keypath:"login.t07"},{terms:l(()=>[n("span",{class:"link-a",onClick:o[2]||(o[2]=k(()=>{},["stop","prevent"]))},m(e.$t("login.t08")),1)]),privacy:l(()=>[n("span",{class:"link-a",onClick:o[3]||(o[3]=k(()=>{},["stop","prevent"]))},m(e.$t("login.t09")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["rules"]),n("div",null,[s(D,{onClick:o[5]||(o[5]=i=>V(t(w)))},{default:l(()=>[v(m(e.$t("login.t13")),1)]),_:1})]),s(R),n("div",oe,[v(m(e.$t("login.t14"))+" ",1),s(B,{to:"/login",class:"link-a"},{default:l(()=>[v(m(e.$t("login.t10")),1)]),_:1})])]),_:1},8,["model"])])):(f(),g("div",te,[s(S,{email:t(a).email,type:"1",loading:t(c),onSubmit:$},null,8,["email","loading"]),n("div",se,[n("button",{class:"link-a",onClick:o[6]||(o[6]=i=>("useDialogDemo"in e?e.useDialogDemo:t(P)).registerTop({email:t(a).email}))},m(e.$t("login.t15")),1)])]))])])}}});export{De as default};
