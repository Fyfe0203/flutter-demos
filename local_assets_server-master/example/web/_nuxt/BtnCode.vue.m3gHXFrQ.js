import{K as T,ae as E,N as O,X as P,a6 as k,Q as V,R as D,ac as M,t as R,b as L}from"./entry.nbMAVAIE.js";import{d as w,c as j,F as d,G as S,P as v,u as n,N as b,a6 as N,a2 as y,Z as $,H as g,Q as z,a as _,w as G,L as Q,X as A,a8 as U,al as X,Y as x,C as Y,W as I}from"./swiper-vue.o0IHd9hR.js";import{r as C,c as K}from"./raf.JIemjHgP.js";import{E as W}from"./el-button.fhXFyBz0.js";const Z=T({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:E([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:E([String,Object,Array])}}),q=w({name:"ElStatistic"}),J=w({...q,props:Z,setup(o,{expose:p}){const i=o,s=O("statistic"),a=j(()=>{const{value:e,formatter:f,precision:l,decimalSeparator:u,groupSeparator:c}=i;if(P(f))return f(e);if(!k(e))return e;let[t,r=""]=String(e).split(".");return r=r.padEnd(l,"0").slice(0,l>0?l:0),t=t.replace(/\B(?=(\d{3})+(?!\d))/g,c),[t,r].join(r?u:"")});return p({displayValue:a}),(e,f)=>(d(),S("div",{class:v(n(s).b())},[e.$slots.title||e.title?(d(),S("div",{key:0,class:v(n(s).e("head"))},[b(e.$slots,"title",{},()=>[N(y(e.title),1)])],2)):$("v-if",!0),g("div",{class:v(n(s).e("content"))},[e.$slots.prefix||e.prefix?(d(),S("div",{key:0,class:v(n(s).e("prefix"))},[b(e.$slots,"prefix",{},()=>[g("span",null,y(e.prefix),1)])],2)):$("v-if",!0),g("span",{class:v(n(s).e("number")),style:z(e.valueStyle)},y(n(a)),7),e.$slots.suffix||e.suffix?(d(),S("div",{key:1,class:v(n(s).e("suffix"))},[b(e.$slots,"suffix",{},()=>[g("span",null,y(e.suffix),1)])],2)):$("v-if",!0)],2)],2))}});var ee=V(J,[["__file","statistic.vue"]]);const te=D(ee),se=T({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:E([Number,Object]),default:0},valueStyle:{type:E([String,Object,Array])}}),ae={finish:()=>!0,[M]:o=>k(o)},ne=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],B=o=>k(o)?new Date(o).getTime():o.valueOf(),F=(o,p)=>{let i=o;const s=/\[([^\]]*)]/g;return ne.reduce((e,[f,l])=>{const u=new RegExp(`${f}+(?![^\\[\\]]*\\])`,"g");if(u.test(e)){const c=Math.floor(i/l);return i-=c*l,e.replace(u,t=>String(c).padStart(t.length,"0"))}return e},p).replace(s,"$1")},oe=w({name:"ElCountdown"}),re=w({...oe,props:se,emits:ae,setup(o,{expose:p,emit:i}){const s=o;let a;const e=_(B(s.value)-Date.now()),f=j(()=>F(e.value,s.format)),l=t=>F(t,s.format),u=()=>{a&&(K(a),a=void 0)},c=()=>{const t=B(s.value),r=()=>{let m=t-Date.now();i("change",m),m<=0?(m=0,u(),i("finish")):a=C(r),e.value=m};a=C(r)};return G(()=>[s.value,s.format],()=>{u(),c()},{immediate:!0}),Q(()=>{u()}),p({displayValue:f}),(t,r)=>(d(),A(n(te),{value:e.value,title:t.title,prefix:t.prefix,suffix:t.suffix,"value-style":t.valueStyle,formatter:l},U({_:2},[X(t.$slots,(m,h)=>({name:h,fn:x(()=>[b(t.$slots,h)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var ie=V(re,[["__file","countdown.vue"]]);const le=D(ie),ue={key:0,class:"flex-center"},fe=g("span",null,"s",-1),ve=w({__name:"BtnCode",props:{count:{default:120},format:{default:"ss"},fun:{type:Function,default:()=>null},autoSend:{type:Boolean,default:!1}},emits:["after-click"],setup(o,{emit:p}){const i=o,s=p,a=_(!1),e=_(!1),f=_(),l=_(!1);async function u(){try{e.value=!0,await i.fun(),s("after-click"),L.success(R("common.t04")),l.value=!0,c()}finally{e.value=!1}}function c(){n(a)||(a.value=!0,e.value=!1,f.value=Date.now()+i.count*1e3)}function t(){a.value=!1}return Y(()=>{i.autoSend&&u()}),(r,m)=>{const h=le,H=W;return d(),A(H,{link:"",disabled:n(a),loading:n(e),class:"login-btn-code",onClick:u},{default:x(()=>[g("span",null,y(n(l)?r.$t("login.t35"):r.$t("login.t36")),1),n(a)?(d(),S("span",ue,[N(" ( "),I(h,{value:n(f),format:r.format,onFinish:t},{suffix:x(()=>[fe]),_:1},8,["value","format"]),N(" ) ")])):$("",!0)]),_:1},8,["disabled","loading"])}}});export{ve as _};
