import{t as o,a}from"./entry.iYjkhHK1.js";const _={password(r,t=8,e=30){return new RegExp("^(?![a-zA-Z]+$)(?![A-Z0-9]+$)(?![A-ZW_]+$)(?![a-z0-9]+$)(?![a-zW_]+$)(?![0-9W_]+$)[a-zA-Z0-9W_][^一-龥]{"+(t-1)+","+(e-1)+"}$").test(r)},email(r){return/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(r)}};function w(r,t,e){(t==null||t===void 0)&&(t=""),t=String(t);const n=!!t.match(/^(\\-)?\d+(?:\.\d+)?$/);if(t&&!n)return e(new Error(o("rule.t001")));if(r.includes("rq")&&!n)return e(new Error(o("rule.t001")));if(r.includes("int")&&!t.match(/^(\\-)?\d+$/g))return e(new Error(o("rule.t002")));if(t=parseFloat(t),r.includes("gt")&&t<=0)return e(new Error(o("rule.t003",[">",0])));if(r.includes("gte")&&t<0)return e(new Error(o("rule.t003",["≥",0])));e()}const p={empty(r,t="change"){return{required:!0,message:r||o("rule.t004"),trigger:t}},email(r,t=!0){return[{required:!0,type:"email",message:o("rule.t010"),trigger:["blur","change"]},{validator:(e,n,i)=>{if(!r||!n)return i();a.post(r,{email:n}).then(({data:d})=>{(t?!d.value.data:d.value.data)?i():i(new Error(t?"The email already exists":"This email does not exist"))})},trigger:"blur"}]},password(r=""){function t(e,n,i){n?_.password(n,8,30)?i():i(new Error(o("rule.t005",[8,30]))):r?i(new Error(r)):i()}return{required:!!r,validator:t,trigger:["blur","change"]}},passwordConfirm(r,t=o("rule.t004")){return{required:!0,validator:(e,n,i)=>{n?n===r()?i():i(new Error(o("rule.t006"))):i(new Error(t))},trigger:["blur","change"]}},gt(){function r(t,e,n){w(["gt"],e,n)}return{validator:r,trigger:"change"}},gte(){function r(t,e,n){w(["gte"],e,n)}return{validator:r,trigger:"change"}},gteint(){function r(t,e,n){w(["gte","int"],e,n)}return{validator:r,trigger:"change"}},gtint(){function r(t,e,n){w(["gt","int"],e,n)}return{validator:r,trigger:"change"}},intnum(){function r(t,e,n){w(["int"],e,n)}return{validator:r,trigger:"change"}},decimal:$};function $(r=0,t){function e(E,g,u){return g==null||g===""||String(g).match(new RegExp("^(\\-)?\\d{1,13}(?:\\.\\d{1,"+r+"})?$"))?u():u(new Error(o("rule.t007",[r])))}function n(E,g,u){if(g==null||g==="")return u();const m=parseFloat(g),s=t[0],f=t[1],h=t[2];if(h){if(m>=s&&m<=f)return u()}else if(m>s&&m<f)return u();return f===1/0&&s>-1/0?u(new Error(o("rule.t003",[h?"≥":">",s]))):f<1/0&&s===-1/0?u(new Error(o("rule.t003",[h?"≤":"<",f]))):u(new Error(o("rule.t008",{min:s,max:f})))}let i=[];r>0?i=[{validator:e,trigger:"change"}]:r===0&&(i=[{validator:p.intnum,trigger:"change"}]);let d=[];return t&&(d=[{validator:n,trigger:"change"}]),i.concat(d)}export{p as u};
