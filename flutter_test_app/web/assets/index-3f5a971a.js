import{d as y,o as d,c as x,f as t,w as e,e as E,i as l,Y as F,m as N,g as a,C as $,ax as B,j as D,k as R}from"./index-cba2b4c0.js";import{v as T}from"./el-loading-73839a64.js";import{u as z,_ as S,a as V}from"./useTable-141dc978.js";import{E as j,a as L}from"./el-table-column-29b9dcad.js";import"./el-checkbox-ee806963.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-b7327fbb.js";import"./el-tag-3e82924f.js";/* empty css                  */import{_ as A}from"./AddEditModal.vue_vue_type_script_setup_true_lang-5f2b8077.js";import{u as H}from"./useConfirm-a0ba45e7.js";import{E as M}from"./message-71d8a824.js";import"./el-form-item-a7ed5b06.js";import"./castArray-8dcd6c67.js";import"./_Uint8Array-4a491129.js";import"./_initCloneObject-d933937d.js";/* empty css                 */import"./el-select-7e09c5da.js";import"./strings-091bd2d7.js";import"./isEqual-014128fa.js";import"./index-877b19ec.js";import"./hasIn-40dec949.js";import"./flatten-b246eae0.js";import"./raf-5985b260.js";import"./enum-223dcce8.js";import"./useRule-31f8c705.js";const P={class:"p-4"},Q={class:"flex justify-end flex-1"},ht=y({__name:"index",setup(Y){const{pending:m,tableData:_,pagination:f,search:u,refresh:r,reset:h}=z({method:"post",url:"/task/page"}),c=o=>{B.add({component:A,type:"dialog",width:"600px",title:o!=null&&o.id?"编辑任务":"新增任务",showClose:!1,props:{row:o??{}},afterClose(n){n&&r()}})},g=o=>{H("确定删除该数据吗？",async n=>{try{await D.post("/task/delete",{taskNo:o.taskNo}),M.success("操作成功"),r()}finally{n()}})};return(o,n)=>{const p=R,i=j,w=L,k=S,C=V,b=T;return d(),x("div",P,[t(C,{onSearchFun:a(u),onResetFun:a(h),pending:a(m)},{action:e(()=>[E("div",Q,[t(p,{type:"primary",size:"small",onClick:c},{default:e(()=>[l("新增任务")]),_:1})])]),result:e(()=>[F((d(),N(w,{data:a(_),stripe:"",class:"w-full"},{default:e(()=>[t(i,{label:"序号",width:"60",align:"center","show-overflow-tooltip":""},{default:e(s=>[l($(s.$index+1),1)]),_:1}),t(i,{prop:"taskName",label:"任务名称",align:"center","min-width":"120","show-overflow-tooltip":""}),t(i,{prop:"taskDesc",label:"任务描述",align:"center","min-width":"90","show-overflow-tooltip":""}),t(i,{prop:"taskRewardCoin",label:"奖励币种",align:"center","min-width":"80","show-overflow-tooltip":""}),t(i,{prop:"taskRewardAmount",label:"奖励数量",align:"center","min-width":"80","show-overflow-tooltip":""}),t(i,{label:"操作",fixed:"right",align:"center",width:"200"},{default:e(s=>[t(p,{type:"primary",size:"small",plain:"",onClick:v=>c(s.row)},{default:e(()=>[l(" 编辑 ")]),_:2},1032,["onClick"]),t(p,{type:"danger",size:"small",plain:"",onClick:v=>g(s.row)},{default:e(()=>[l("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[b,a(m)]]),t(k,{pagination:a(f),class:"mt-4",onChange:a(r)},null,8,["pagination","onChange"])]),_:1},8,["onSearchFun","onResetFun","pending"])])}}});export{ht as default};
