import{n as T,y as E,d as w,q as O,N as V,a$ as H,aD as C,o as m,c as y,x as v,g as n,v as k,i as b,C as S,aa as x,e as g,ak as M,_ as D,F as j,cg as P,r as _,U as R,V as U,m as A,au as z,ac as L,w as $,t as q,f as G,k as I}from"./index-0207282d.js";/* empty css                  */import{E as Y}from"./message-4c47188d.js";import{r as N,c as J}from"./raf-fd37df43.js";const K=T({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:E([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:E([String,Object,Array])}}),Q=w({name:"ElStatistic"}),W=w({...Q,props:K,setup(o,{expose:p}){const r=o,t=O("statistic"),a=V(()=>{const{value:e,formatter:i,precision:l,decimalSeparator:u,groupSeparator:f}=r;if(H(i))return i(e);if(!C(e))return e;let[s,c=""]=String(e).split(".");return c=c.padEnd(l,"0").slice(0,l>0?l:0),s=s.replace(/\B(?=(\d{3})+(?!\d))/g,f),[s,c].join(c?u:"")});return p({displayValue:a}),(e,i)=>(m(),y("div",{class:v(n(t).b())},[e.$slots.title||e.title?(m(),y("div",{key:0,class:v(n(t).e("head"))},[k(e.$slots,"title",{},()=>[b(S(e.title),1)])],2)):x("v-if",!0),g("div",{class:v(n(t).e("content"))},[e.$slots.prefix||e.prefix?(m(),y("div",{key:0,class:v(n(t).e("prefix"))},[k(e.$slots,"prefix",{},()=>[g("span",null,S(e.prefix),1)])],2)):x("v-if",!0),g("span",{class:v(n(t).e("number")),style:M(e.valueStyle)},S(n(a)),7),e.$slots.suffix||e.suffix?(m(),y("div",{key:1,class:v(n(t).e("suffix"))},[k(e.$slots,"suffix",{},()=>[g("span",null,S(e.suffix),1)])],2)):x("v-if",!0)],2)],2))}});var X=D(W,[["__file","/home/runner/work/element-plus/element-plus/packages/components/statistic/src/statistic.vue"]]);const Z=j(X),ee=T({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:E([Number,Object]),default:0},valueStyle:{type:E([String,Object,Array])}}),te={finish:()=>!0,[P]:o=>C(o)},se=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],B=o=>C(o)?new Date(o).getTime():o.valueOf(),F=(o,p)=>{let r=o;const t=/\[([^\]]*)]/g;return se.reduce((e,[i,l])=>{const u=new RegExp(`${i}+(?![^\\[\\]]*\\])`,"g");if(u.test(e)){const f=Math.floor(r/l);return r-=f*l,e.replace(u,s=>String(f).padStart(s.length,"0"))}return e},p).replace(t,"$1")},ae=w({name:"ElCountdown"}),ne=w({...ae,props:ee,emits:te,setup(o,{expose:p,emit:r}){const t=o;let a;const e=_(B(t.value)-Date.now()),i=V(()=>F(e.value,t.format)),l=s=>F(s,t.format),u=()=>{a&&(J(a),a=void 0)},f=()=>{const s=B(t.value),c=()=>{let d=s-Date.now();r("change",d),d<=0?(d=0,u(),r("finish")):a=N(c),e.value=d};a=N(c)};return R(()=>[t.value,t.format],()=>{u(),f()},{immediate:!0}),U(()=>{u()}),p({displayValue:i}),(s,c)=>(m(),A(n(Z),{value:e.value,title:s.title,prefix:s.prefix,suffix:s.suffix,"value-style":s.valueStyle,formatter:l},z({_:2},[L(s.$slots,(d,h)=>({name:h,fn:$(()=>[k(s.$slots,h)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var oe=D(ne,[["__file","/home/runner/work/element-plus/element-plus/packages/components/countdown/src/countdown.vue"]]);const re=j(oe);const le={key:0,class:"flex-center"},ie=g("span",null,"s",-1),de=w({__name:"BtnCode",props:{count:{default:120},format:{default:"ss"},fun:{type:Function,default:()=>null},autoSend:{type:Boolean,default:!1}},emits:["after-click"],setup(o,{emit:p}){const r=o,t=_(!1),a=_(!1),e=_(),i=_(!1);async function l(){try{a.value=!0,await r.fun(),p("after-click"),Y.success("发送成功"),i.value=!0,u()}finally{a.value=!1}}function u(){n(t)||(t.value=!0,a.value=!1,e.value=Date.now()+r.count*1e3)}function f(){t.value=!1}return q(()=>{r.autoSend&&l()}),(s,c)=>{const d=re,h=I;return m(),A(h,{type:"primary",disabled:n(t),loading:n(a),class:"login-btn-code",onClick:l},{default:$(()=>[g("span",null,S(n(i)?"Resend":"Send"),1),n(t)?(m(),y("span",le,[b(" ( "),G(d,{value:n(e),format:s.format,onFinish:f},{suffix:$(()=>[ie]),_:1},8,["value","format"]),b(" ) ")])):x("",!0)]),_:1},8,["disabled","loading"])}}});export{de as _};
