import{d as S,r as b,a2 as x,U as N,o as u,m as d,w as n,f as s,g as t,c as _,$ as C,ac as v,i as $,j as P,E as R,k as j}from"./index-cba2b4c0.js";import{E as I,a as O}from"./el-form-item-a7ed5b06.js";/* empty css                  *//* empty css                 */import"./el-tag-3e82924f.js";import{E as A,a as H}from"./el-select-7e09c5da.js";import"./el-popper-b7327fbb.js";import{u as M}from"./enum-223dcce8.js";import{u as w}from"./useRule-31f8c705.js";const Y=S({__name:"AddEditModel",props:{row:{type:Object,default:()=>{}}},emits:["close"],setup(U,{emit:E}){const V=U,m=M(),p={empty:w.empty(),gteint:[w.empty(),w.gteint()]},g=b(),o=b({});x(()=>{var a;(a=V.row)!=null&&a.id&&(o.value={...V.row})});const k=b([]);N(()=>{var a;return(a=o.value)==null?void 0:a.chainType},a=>{m.getTradeCoins(a).then(l=>{k.value=l})},{immediate:!0});const h=()=>{o.value.coinCode=""},c=b(!1),B=()=>{g.value.validate(async a=>{var l;if(a)try{c.value=!0,await P.post("/symbol/"+((l=V.row)!=null&&l.id?"edit":"add"),o.value),E("close",!0)}finally{c.value=!1}})};return(a,l)=>{const f=A,y=H,r=I,F=R,T=j,L=O;return u(),d(L,{ref_key:"formRef",ref:g,model:t(o),"label-width":"140px","label-position":"left"},{default:n(()=>[s(r,{label:a.$t("system.coinpair.t6"),rules:p.empty,prop:"chainType"},{default:n(()=>[s(y,{modelValue:t(o).chainType,"onUpdate:modelValue":l[0]||(l[0]=e=>t(o).chainType=e),class:"w-full",onChange:h},{default:n(()=>[(u(!0),_(C,null,v(t(m).chainList,(e,i)=>(u(),d(f,{key:i,label:e.chainName,value:e.chainType},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"]),s(r,{label:a.$t("system.coinpair.t2"),prop:"fixCoinCode",rules:p.empty},{default:n(()=>[s(y,{modelValue:t(o).fixCoinCode,"onUpdate:modelValue":l[1]||(l[1]=e=>t(o).fixCoinCode=e),clearable:"",class:"w-full"},{default:n(()=>[(u(!0),_(C,null,v(t(m).pricingCoinList,(e,i)=>(u(),d(f,{key:i,label:e.coinCode,value:e.coinCode},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"]),s(r,{label:a.$t("system.coinpair.t3"),prop:"coinCode",rules:p.empty},{default:n(()=>[s(y,{modelValue:t(o).coinCode,"onUpdate:modelValue":l[2]||(l[2]=e=>t(o).coinCode=e),clearable:"",class:"w-full"},{default:n(()=>[(u(!0),_(C,null,v(t(k),e=>(u(),d(f,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"]),s(r,{label:a.$t("system.coinpair.t9"),prop:"pricePrecision",rules:p.gteint},{default:n(()=>[s(F,{modelValue:t(o).pricePrecision,"onUpdate:modelValue":l[3]||(l[3]=e=>t(o).pricePrecision=e)},null,8,["modelValue"])]),_:1},8,["label","rules"]),s(r,{label:a.$t("system.coinpair.t5"),prop:"status",rules:p.empty},{default:n(()=>[s(y,{modelValue:t(o).status,"onUpdate:modelValue":l[4]||(l[4]=e=>t(o).status=e),class:"w-full"},{default:n(()=>[(u(!0),_(C,null,v(t(m).openStates,(e,i)=>(u(),d(f,{key:i,label:e,value:+i},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"]),s(r,{class:"pt-4"},{default:n(()=>[s(T,{type:"info",disabled:t(c),onClick:l[5]||(l[5]=e=>E("close"))},{default:n(()=>[$("关闭")]),_:1},8,["disabled"]),s(T,{type:"primary",loading:t(c),onClick:B},{default:n(()=>[$("保存")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])}}});export{Y as _};
