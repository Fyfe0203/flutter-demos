import{d as h,r as _,a as y,u as v,b as k,o as E,c as V,e as n,f as s,w as a,g as e,h as R,i as B,j as C,E as F,k as I}from"./index-0207282d.js";import{E as K,a as N}from"./el-form-item-cffcfafd.js";/* empty css                  */import{_ as U}from"./Password.vue_vue_type_script_setup_true_lang-cd08ac3e.js";/* empty css                 */import{u as T}from"./useRule-31f8c705.js";import{u as j}from"./useMd5-a28aa71e.js";import"./castArray-b8a06b61.js";import"./_Uint8Array-5054225c.js";import"./_initCloneObject-d522ba90.js";import"./SvgIcon-a1a53ffe.js";import"./_plugin-vue_export-helper-c27b6911.js";const q={class:"login-page h-screen !bg-cover"},H={class:"bg-[rgba(0,0,0,0.4)] w-11/12 max-w-md fixed left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 px-8 pt-8 pb-10 rounded-lg"},M=n("h1",{class:"text-[#c0c4cc] text-2xl mb-2 text-center"},"登录",-1),P=n("span",{class:"text-[#c0c4cc]"},"用户名",-1),S=n("span",{class:"text-[#c0c4cc]"},"密码",-1),ee=h({__name:"index",setup($){const m=_(),t=y({username:"",password:""}),r=_(!1),c=T.empty(),f=v(),p=k(),u=()=>{m.value.validate(async d=>{if(d)try{r.value=!0;const o=await C.post("/login",{...t,password:j(t.password)});p.setToken(o.token),await p.getUserInfo(),f.push("/")}catch{r.value=!1}})};return(d,o)=>{const x=F,i=K,w=U,b=I,g=N;return E(),V("div",q,[n("div",H,[M,s(g,{ref_key:"formRef",ref:m,model:e(t),"label-position":"top","hide-required-asterisk":""},{default:a(()=>[s(i,{label:"",prop:"username",rules:e(c)},{label:a(()=>[P]),default:a(()=>[s(x,{modelValue:e(t).username,"onUpdate:modelValue":o[0]||(o[0]=l=>e(t).username=l),class:"h-10"},null,8,["modelValue"])]),_:1},8,["rules"]),s(i,{label:"密码",prop:"password",rules:e(c)},{label:a(()=>[S]),default:a(()=>[s(w,{"model-value":e(t).password,"onUpdate:modelValue":o[1]||(o[1]=l=>e(t).password=l),class:"h-10",onKeyup:R(u,["enter"])},null,8,["model-value","onKeyup"])]),_:1},8,["rules"]),s(b,{type:"primary",loading:e(r),class:"w-full !h-11 mt-5",onClick:u},{default:a(()=>[B(" 登录 ")]),_:1},8,["loading"])]),_:1},8,["model"])])])}}});export{ee as default};
