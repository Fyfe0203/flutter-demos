import{ck as Ze,ab as qe,cl as Wt,bK as j,cm as xt,b0 as we,n as Se,y as ie,aZ as pa,bY as ma,d as Ve,aS as Tt,ai as Ne,q as Te,c4 as ha,z as Ge,r as Z,N as x,U as xe,a8 as Ie,b7 as It,cn as ba,co as ya,at as ga,g as e,bH as ka,s as Dt,o as T,m as ke,w as le,E as et,x as b,ak as Yt,ag as Ee,B as me,A as vt,aa as ve,c as W,e as K,v as it,C as de,J as Kt,_ as Le,H as ye,a$ as ct,bN as wa,t as Da,$ as ge,ac as _e,i as je,Y as Re,f as B,bW as Sa,R as Ca,b_ as Ma,T as Pa,h as st,M as zt,aA as Ut,a9 as ot,Z as nt,bP as dt,aL as St,S as ht,bR as ft,k as yt,D as Ht,a as _a}from"./index-0207282d.js";import{f as $a}from"./flatten-24f36df1.js";import{E as Ta,a as Va,T as Oa}from"./el-popper-90f9afbe.js";import{d as xa,C as Ct}from"./index-83327429.js";import{i as Ia}from"./isEqual-7382b5a8.js";const Ya=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],tt=r=>!r&&r!==0?[]:Array.isArray(r)?r:[r];var jt={exports:{}};(function(r,f){(function(n,a){r.exports=a()})(Ze,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,v=/\d\d/,m=/\d\d?/,y=/\d*[^-_:/,()\s\d]+/,k={},w=function(s){return(s=+s)+(s>68?1900:2e3)},D=function(s){return function(M){this[s]=+M}},I=[/[+-]\d\d:?(\d\d)?|Z/,function(s){(this.zone||(this.zone={})).offset=function(M){if(!M||M==="Z")return 0;var _=M.match(/([+-]|\d\d)/g),i=60*_[1]+(+_[2]||0);return i===0?0:_[0]==="+"?-i:i}(s)}],g=function(s){var M=k[s];return M&&(M.indexOf?M:M.s.concat(M.f))},c=function(s,M){var _,i=k.meridiem;if(i){for(var F=1;F<=24;F+=1)if(s.indexOf(i(F,0,M))>-1){_=F>12;break}}else _=s===(M?"pm":"PM");return _},u={A:[y,function(s){this.afternoon=c(s,!1)}],a:[y,function(s){this.afternoon=c(s,!0)}],S:[/\d/,function(s){this.milliseconds=100*+s}],SS:[v,function(s){this.milliseconds=10*+s}],SSS:[/\d{3}/,function(s){this.milliseconds=+s}],s:[m,D("seconds")],ss:[m,D("seconds")],m:[m,D("minutes")],mm:[m,D("minutes")],H:[m,D("hours")],h:[m,D("hours")],HH:[m,D("hours")],hh:[m,D("hours")],D:[m,D("day")],DD:[v,D("day")],Do:[y,function(s){var M=k.ordinal,_=s.match(/\d+/);if(this.day=_[0],M)for(var i=1;i<=31;i+=1)M(i).replace(/\[|\]/g,"")===s&&(this.day=i)}],M:[m,D("month")],MM:[v,D("month")],MMM:[y,function(s){var M=g("months"),_=(g("monthsShort")||M.map(function(i){return i.slice(0,3)})).indexOf(s)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[y,function(s){var M=g("months").indexOf(s)+1;if(M<1)throw new Error;this.month=M%12||M}],Y:[/[+-]?\d+/,D("year")],YY:[v,function(s){this.year=w(s)}],YYYY:[/\d{4}/,D("year")],Z:I,ZZ:I};function p(s){var M,_;M=s,_=k&&k.formats;for(var i=(s=M.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(G,q,Q){var oe=Q&&Q.toUpperCase();return q||_[Q]||n[Q]||_[oe].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(U,ae,pe){return ae||pe.slice(1)})})).match(a),F=i.length,$=0;$<F;$+=1){var L=i[$],N=u[L],z=N&&N[0],R=N&&N[1];i[$]=R?{regex:z,parser:R}:L.replace(/^\[|\]$/g,"")}return function(G){for(var q={},Q=0,oe=0;Q<F;Q+=1){var U=i[Q];if(typeof U=="string")oe+=U.length;else{var ae=U.regex,pe=U.parser,be=G.slice(oe),H=ae.exec(be)[0];pe.call(q,H),G=G.replace(H,"")}}return function(A){var d=A.afternoon;if(d!==void 0){var S=A.hours;d?S<12&&(A.hours+=12):S===12&&(A.hours=0),delete A.afternoon}}(q),q}}return function(s,M,_){_.p.customParseFormat=!0,s&&s.parseTwoDigitYear&&(w=s.parseTwoDigitYear);var i=M.prototype,F=i.parse;i.parse=function($){var L=$.date,N=$.utc,z=$.args;this.$u=N;var R=z[1];if(typeof R=="string"){var G=z[2]===!0,q=z[3]===!0,Q=G||q,oe=z[2];q&&(oe=z[2]),k=this.$locale(),!G&&oe&&(k=_.Ls[oe]),this.$d=function(be,H,A){try{if(["x","X"].indexOf(H)>-1)return new Date((H==="X"?1e3:1)*be);var d=p(H)(be),S=d.year,Y=d.month,l=d.day,C=d.hours,E=d.minutes,J=d.seconds,ee=d.milliseconds,ce=d.zone,ne=new Date,re=l||(S||Y?1:ne.getDate()),se=S||ne.getFullYear(),Ce=0;S&&!Y||(Ce=Y>0?Y-1:ne.getMonth());var he=C||0,Me=E||0,Pe=J||0,Oe=ee||0;return ce?new Date(Date.UTC(se,Ce,re,he,Me,Pe,Oe+60*ce.offset*1e3)):A?new Date(Date.UTC(se,Ce,re,he,Me,Pe,Oe)):new Date(se,Ce,re,he,Me,Pe,Oe)}catch{return new Date("")}}(L,R,N),this.init(),oe&&oe!==!0&&(this.$L=this.locale(oe).$L),Q&&L!=this.format(R)&&(this.$d=new Date("")),k={}}else if(R instanceof Array)for(var U=R.length,ae=1;ae<=U;ae+=1){z[1]=R[ae-1];var pe=_.apply(this,z);if(pe.isValid()){this.$d=pe.$d,this.$L=pe.$L,this.init();break}ae===U&&(this.$d=new Date(""))}else F.call(this,$)}}})})(jt);var Ra=jt.exports;const Aa=qe(Ra),Rt=["hours","minutes","seconds"],At="HH:mm:ss",lt="YYYY-MM-DD",Ea={date:lt,dates:lt,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${lt} ${At}`,monthrange:"YYYY-MM",daterange:lt,datetimerange:`${lt} ${At}`},gt=(r,f)=>[r>0?r-1:void 0,r,r<f?r+1:void 0],Gt=r=>Array.from(Array.from({length:r}).keys()),Zt=r=>r.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),qt=r=>r.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Et=function(r,f){const n=xt(r),a=xt(f);return n&&a?r.getTime()===f.getTime():!n&&!a?r===f:!1},Nt=function(r,f){const n=we(r),a=we(f);return n&&a?r.length!==f.length?!1:r.every((v,m)=>Et(v,f[m])):!n&&!a?Et(r,f):!1},Ft=function(r,f,n){const a=Wt(f)||f==="x"?j(r).locale(n):j(r,f).locale(n);return a.isValid()?a:void 0},Lt=function(r,f,n){return Wt(f)?r:f==="x"?+r:j(r).locale(n).format(f)},kt=(r,f)=>{var n;const a=[],v=f==null?void 0:f();for(let m=0;m<r;m++)a.push((n=v==null?void 0:v.includes(m))!=null?n:!1);return a},Jt=Se({disabledHours:{type:ie(Function)},disabledMinutes:{type:ie(Function)},disabledSeconds:{type:ie(Function)}}),Na=Se({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Xt=Se({id:{type:ie([Array,String])},name:{type:ie([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ie([String,Object]),default:pa},editable:{type:Boolean,default:!0},prefixIcon:{type:ie([String,Object]),default:""},size:ma,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:ie(Object),default:()=>({})},modelValue:{type:ie([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ie([Date,Array])},defaultTime:{type:ie([Date,Array])},isRange:{type:Boolean,default:!1},...Jt,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:ie([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Fa=["id","name","placeholder","value","disabled","readonly"],La=["id","name","placeholder","value","disabled","readonly"],Ba=Ve({name:"Picker"}),Wa=Ve({...Ba,props:Xt,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(r,{expose:f,emit:n}){const a=r,v=Tt(),{lang:m}=Ne(),y=Te("date"),k=Te("input"),w=Te("range"),{form:D,formItem:I}=ha(),g=Ge("ElPopperOptions",{}),c=Z(),u=Z(),p=Z(!1),s=Z(!1),M=Z(null);let _=!1,i=!1;const F=x(()=>[y.b("editor"),y.bm("editor",a.type),k.e("wrapper"),y.is("disabled",l.value),y.is("active",p.value),w.b("editor"),Be?w.bm("editor",Be.value):"",v.class]),$=x(()=>[k.e("icon"),w.e("close-icon"),re.value?"":w.e("close-icon--hidden")]);xe(p,t=>{t?Ie(()=>{t&&(M.value=a.modelValue)}):(te.value=null,Ie(()=>{L(a.modelValue)}))});const L=(t,P)=>{(P||!Nt(t,M.value))&&(n("change",t),a.validateEvent&&(I==null||I.validate("change").catch(X=>It())))},N=t=>{if(!Nt(a.modelValue,t)){let P;we(t)?P=t.map(X=>Lt(X,a.valueFormat,m.value)):t&&(P=Lt(t,a.valueFormat,m.value)),n("update:modelValue",t&&P,m.value)}},z=t=>{n("keydown",t)},R=x(()=>{if(u.value){const t=De.value?u.value:u.value.$el;return Array.from(t.querySelectorAll("input"))}return[]}),G=(t,P,X)=>{const fe=R.value;fe.length&&(!X||X==="min"?(fe[0].setSelectionRange(t,P),fe[0].focus()):X==="max"&&(fe[1].setSelectionRange(t,P),fe[1].focus()))},q=()=>{A(!0,!0),Ie(()=>{i=!1})},Q=(t="",P=!1)=>{P||(i=!0),p.value=P;let X;we(t)?X=t.map(fe=>fe.toDate()):X=t&&t.toDate(),te.value=null,N(X)},oe=()=>{s.value=!0},U=()=>{n("visible-change",!0)},ae=t=>{(t==null?void 0:t.key)===ye.esc&&A(!0,!0)},pe=()=>{s.value=!1,p.value=!1,i=!1,n("visible-change",!1)},be=()=>{p.value=!0},H=()=>{p.value=!1},A=(t=!0,P=!1)=>{i=P;const[X,fe]=e(R);let Ye=X;!t&&De.value&&(Ye=fe),Ye&&Ye.focus()},d=t=>{a.readonly||l.value||p.value||i||(p.value=!0,n("focus",t))};let S;const Y=t=>{const P=async()=>{setTimeout(()=>{var X;S===P&&(!((X=c.value)!=null&&X.isFocusInsideContent()&&!_)&&R.value.filter(fe=>fe.contains(document.activeElement)).length===0&&(Je(),p.value=!1,n("blur",t),a.validateEvent&&(I==null||I.validate("blur").catch(fe=>It()))),_=!1)},0)};S=P,P()},l=x(()=>a.disabled||(D==null?void 0:D.disabled)),C=x(()=>{let t;if(Ce.value?o.value.getDefaultValue&&(t=o.value.getDefaultValue()):we(a.modelValue)?t=a.modelValue.map(P=>Ft(P,a.valueFormat,m.value)):t=Ft(a.modelValue,a.valueFormat,m.value),o.value.getRangeAvailableTime){const P=o.value.getRangeAvailableTime(t);Ia(P,t)||(t=P,N(we(t)?t.map(X=>X.toDate()):t.toDate()))}return we(t)&&t.some(P=>!P)&&(t=[]),t}),E=x(()=>{if(!o.value.panelReady)return"";const t=Ke(C.value);return we(te.value)?[te.value[0]||t&&t[0]||"",te.value[1]||t&&t[1]||""]:te.value!==null?te.value:!ee.value&&Ce.value||!p.value&&Ce.value?"":t?ce.value?t.join(", "):t:""}),J=x(()=>a.type.includes("time")),ee=x(()=>a.type.startsWith("time")),ce=x(()=>a.type==="dates"),ne=x(()=>a.prefixIcon||(J.value?ba:ya)),re=Z(!1),se=t=>{a.readonly||l.value||re.value&&(t.stopPropagation(),q(),N(null),L(null,!0),re.value=!1,p.value=!1,o.value.handleClear&&o.value.handleClear())},Ce=x(()=>{const{modelValue:t}=a;return!t||we(t)&&!t.filter(Boolean).length}),he=async t=>{var P;a.readonly||l.value||(((P=t.target)==null?void 0:P.tagName)!=="INPUT"||R.value.includes(document.activeElement))&&(p.value=!0)},Me=()=>{a.readonly||l.value||!Ce.value&&a.clearable&&(re.value=!0)},Pe=()=>{re.value=!1},Oe=t=>{var P;a.readonly||l.value||(((P=t.touches[0].target)==null?void 0:P.tagName)!=="INPUT"||R.value.includes(document.activeElement))&&(p.value=!0)},De=x(()=>a.type.includes("range")),Be=ga(),at=x(()=>{var t,P;return(P=(t=e(c))==null?void 0:t.popperRef)==null?void 0:P.contentRef}),$e=x(()=>{var t;return e(De)?e(u):(t=e(u))==null?void 0:t.$el});ka($e,t=>{const P=e(at),X=e($e);P&&(t.target===P||t.composedPath().includes(P))||t.target===X||t.composedPath().includes(X)||(p.value=!1)});const te=Z(null),Je=()=>{if(te.value){const t=We(E.value);t&&Fe(t)&&(N(we(t)?t.map(P=>P.toDate()):t.toDate()),te.value=null)}te.value===""&&(N(null),L(null),te.value=null)},We=t=>t?o.value.parseUserInput(t):null,Ke=t=>t?o.value.formatToString(t):null,Fe=t=>o.value.isValidValue(t),Xe=async t=>{if(a.readonly||l.value)return;const{code:P}=t;if(z(t),P===ye.esc){p.value===!0&&(p.value=!1,t.preventDefault(),t.stopPropagation());return}if(P===ye.down&&(o.value.handleFocusPicker&&(t.preventDefault(),t.stopPropagation()),p.value===!1&&(p.value=!0,await Ie()),o.value.handleFocusPicker)){o.value.handleFocusPicker();return}if(P===ye.tab){_=!0;return}if(P===ye.enter||P===ye.numpadEnter){(te.value===null||te.value===""||Fe(We(E.value)))&&(Je(),p.value=!1),t.stopPropagation();return}if(te.value){t.stopPropagation();return}o.value.handleKeydownInput&&o.value.handleKeydownInput(t)},ze=t=>{te.value=t,p.value||(p.value=!0)},Ue=t=>{const P=t.target;te.value?te.value=[P.value,te.value[1]]:te.value=[P.value,null]},rt=t=>{const P=t.target;te.value?te.value=[te.value[0],P.value]:te.value=[null,P.value]},Qe=()=>{var t;const P=te.value,X=We(P&&P[0]),fe=e(C);if(X&&X.isValid()){te.value=[Ke(X),((t=E.value)==null?void 0:t[1])||null];const Ye=[X,fe&&(fe[1]||null)];Fe(Ye)&&(N(Ye),te.value=null)}},He=()=>{var t;const P=e(te),X=We(P&&P[1]),fe=e(C);if(X&&X.isValid()){te.value=[((t=e(E))==null?void 0:t[0])||null,Ke(X)];const Ye=[fe&&fe[0],X];Fe(Ye)&&(N(Ye),te.value=null)}},o=Z({}),V=t=>{o.value[t[0]]=t[1],o.value.panelReady=!0},h=t=>{n("calendar-change",t)},O=(t,P,X)=>{n("panel-change",t,P,X)};return Dt("EP_PICKER_BASE",{props:a}),f({focus:A,handleFocusInput:d,handleBlurInput:Y,handleOpen:be,handleClose:H,onPick:Q}),(t,P)=>(T(),ke(e(Ta),Kt({ref_key:"refPopper",ref:c,visible:p.value,effect:"light",pure:"",trigger:"click"},t.$attrs,{role:"dialog",teleported:"",transition:`${e(y).namespace.value}-zoom-in-top`,"popper-class":[`${e(y).namespace.value}-picker__popper`,t.popperClass],"popper-options":e(g),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:oe,onShow:U,onHide:pe}),{default:le(()=>[e(De)?(T(),W("div",{key:1,ref_key:"inputRef",ref:u,class:b(e(F)),style:Yt(t.$attrs.style),onClick:d,onMouseenter:Me,onMouseleave:Pe,onTouchstart:Oe,onKeydown:Xe},[e(ne)?(T(),ke(e(me),{key:0,class:b([e(k).e("icon"),e(w).e("icon")]),onMousedown:Ee(he,["prevent"]),onTouchstart:Oe},{default:le(()=>[(T(),ke(vt(e(ne))))]),_:1},8,["class","onMousedown"])):ve("v-if",!0),K("input",{id:t.id&&t.id[0],autocomplete:"off",name:t.name&&t.name[0],placeholder:t.startPlaceholder,value:e(E)&&e(E)[0],disabled:e(l),readonly:!t.editable||t.readonly,class:b(e(w).b("input")),onMousedown:he,onInput:Ue,onChange:Qe,onFocus:d,onBlur:Y},null,42,Fa),it(t.$slots,"range-separator",{},()=>[K("span",{class:b(e(w).b("separator"))},de(t.rangeSeparator),3)]),K("input",{id:t.id&&t.id[1],autocomplete:"off",name:t.name&&t.name[1],placeholder:t.endPlaceholder,value:e(E)&&e(E)[1],disabled:e(l),readonly:!t.editable||t.readonly,class:b(e(w).b("input")),onMousedown:he,onFocus:d,onBlur:Y,onInput:rt,onChange:He},null,42,La),t.clearIcon?(T(),ke(e(me),{key:1,class:b(e($)),onClick:se},{default:le(()=>[(T(),ke(vt(t.clearIcon)))]),_:1},8,["class"])):ve("v-if",!0)],38)):(T(),ke(e(et),{key:0,id:t.id,ref_key:"inputRef",ref:u,"container-role":"combobox","model-value":e(E),name:t.name,size:e(Be),disabled:e(l),placeholder:t.placeholder,class:b([e(y).b("editor"),e(y).bm("editor",t.type),t.$attrs.class]),style:Yt(t.$attrs.style),readonly:!t.editable||t.readonly||e(ce)||t.type==="week",label:t.label,tabindex:t.tabindex,"validate-event":!1,onInput:ze,onFocus:d,onBlur:Y,onKeydown:Xe,onChange:Je,onMousedown:he,onMouseenter:Me,onMouseleave:Pe,onTouchstart:Oe,onClick:P[0]||(P[0]=Ee(()=>{},["stop"]))},{prefix:le(()=>[e(ne)?(T(),ke(e(me),{key:0,class:b(e(k).e("icon")),onMousedown:Ee(he,["prevent"]),onTouchstart:Oe},{default:le(()=>[(T(),ke(vt(e(ne))))]),_:1},8,["class","onMousedown"])):ve("v-if",!0)]),suffix:le(()=>[re.value&&t.clearIcon?(T(),ke(e(me),{key:0,class:b(`${e(k).e("icon")} clear-icon`),onClick:Ee(se,["stop"])},{default:le(()=>[(T(),ke(vt(t.clearIcon)))]),_:1},8,["class","onClick"])):ve("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:le(()=>[it(t.$slots,"default",{visible:p.value,actualVisible:s.value,parsedValue:e(C),format:t.format,unlinkPanels:t.unlinkPanels,type:t.type,defaultValue:t.defaultValue,onPick:Q,onSelectRange:G,onSetPickerOption:V,onCalendarChange:h,onPanelChange:O,onKeydown:ae,onMousedown:P[1]||(P[1]=Ee(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var Ka=Le(Wa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const za=Se({...Na,datetimeRole:String,parsedValue:{type:ie(Object)}}),Ua=({getAvailableHours:r,getAvailableMinutes:f,getAvailableSeconds:n})=>{const a=(y,k,w,D)=>{const I={hour:r,minute:f,second:n};let g=y;return["hour","minute","second"].forEach(c=>{if(I[c]){let u;const p=I[c];switch(c){case"minute":{u=p(g.hour(),k,D);break}case"second":{u=p(g.hour(),g.minute(),k,D);break}default:{u=p(k,D);break}}if(u!=null&&u.length&&!u.includes(g[c]())){const s=w?0:u.length-1;g=g[c](u[s])}}}),g},v={};return{timePickerOptions:v,getAvailableTime:a,onSetOption:([y,k])=>{v[y]=k}}},wt=r=>{const f=(a,v)=>a||v,n=a=>a!==!0;return r.map(f).filter(n)},Qt=(r,f,n)=>({getHoursList:(y,k)=>kt(24,r&&(()=>r==null?void 0:r(y,k))),getMinutesList:(y,k,w)=>kt(60,f&&(()=>f==null?void 0:f(y,k,w))),getSecondsList:(y,k,w,D)=>kt(60,n&&(()=>n==null?void 0:n(y,k,w,D)))}),Ha=(r,f,n)=>{const{getHoursList:a,getMinutesList:v,getSecondsList:m}=Qt(r,f,n);return{getAvailableHours:(D,I)=>wt(a(D,I)),getAvailableMinutes:(D,I,g)=>wt(v(D,I,g)),getAvailableSeconds:(D,I,g,c)=>wt(m(D,I,g,c))}},ja=r=>{const f=Z(r.parsedValue);return xe(()=>r.visible,n=>{n||(f.value=r.parsedValue)}),f},Ga=100,Za=600,Bt={beforeMount(r,f){const n=f.value,{interval:a=Ga,delay:v=Za}=ct(n)?{}:n;let m,y;const k=()=>ct(n)?n():n.handler(),w=()=>{y&&(clearTimeout(y),y=void 0),m&&(clearInterval(m),m=void 0)};r.addEventListener("mousedown",D=>{D.button===0&&(w(),k(),document.addEventListener("mouseup",()=>w(),{once:!0}),y=setTimeout(()=>{m=setInterval(()=>{k()},a)},v))})}},qa=Se({role:{type:String,required:!0},spinnerDate:{type:ie(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ie(String),default:""},...Jt}),Ja=["onClick"],Xa=["onMouseenter"],Qa=Ve({__name:"basic-time-spinner",props:qa,emits:["change","select-range","set-option"],setup(r,{emit:f}){const n=r,a=Te("time"),{getHoursList:v,getMinutesList:m,getSecondsList:y}=Qt(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let k=!1;const w=Z(),D=Z(),I=Z(),g=Z(),c={hours:D,minutes:I,seconds:g},u=x(()=>n.showSeconds?Rt:Rt.slice(0,2)),p=x(()=>{const{spinnerDate:d}=n,S=d.hour(),Y=d.minute(),l=d.second();return{hours:S,minutes:Y,seconds:l}}),s=x(()=>{const{hours:d,minutes:S}=e(p);return{hours:v(n.role),minutes:m(d,n.role),seconds:y(d,S,n.role)}}),M=x(()=>{const{hours:d,minutes:S,seconds:Y}=e(p);return{hours:gt(d,23),minutes:gt(S,59),seconds:gt(Y,59)}}),_=xa(d=>{k=!1,$(d)},200),i=d=>{if(!!!n.amPmMode)return"";const Y=n.amPmMode==="A";let l=d<12?" am":" pm";return Y&&(l=l.toUpperCase()),l},F=d=>{let S;switch(d){case"hours":S=[0,2];break;case"minutes":S=[3,5];break;case"seconds":S=[6,8];break}const[Y,l]=S;f("select-range",Y,l),w.value=d},$=d=>{z(d,e(p)[d])},L=()=>{$("hours"),$("minutes"),$("seconds")},N=d=>d.querySelector(`.${a.namespace.value}-scrollbar__wrap`),z=(d,S)=>{if(n.arrowControl)return;const Y=e(c[d]);Y&&Y.$el&&(N(Y.$el).scrollTop=Math.max(0,S*R(d)))},R=d=>{const S=e(c[d]),Y=S==null?void 0:S.$el.querySelector("li");return Y&&Number.parseFloat(wa(Y,"height"))||0},G=()=>{Q(1)},q=()=>{Q(-1)},Q=d=>{w.value||F("hours");const S=w.value,Y=e(p)[S],l=w.value==="hours"?24:60,C=oe(S,Y,d,l);U(S,C),z(S,C),Ie(()=>F(S))},oe=(d,S,Y,l)=>{let C=(S+Y+l)%l;const E=e(s)[d];for(;E[C]&&C!==S;)C=(C+Y+l)%l;return C},U=(d,S)=>{if(e(s)[d][S])return;const{hours:C,minutes:E,seconds:J}=e(p);let ee;switch(d){case"hours":ee=n.spinnerDate.hour(S).minute(E).second(J);break;case"minutes":ee=n.spinnerDate.hour(C).minute(S).second(J);break;case"seconds":ee=n.spinnerDate.hour(C).minute(E).second(S);break}f("change",ee)},ae=(d,{value:S,disabled:Y})=>{Y||(U(d,S),F(d),z(d,S))},pe=d=>{k=!0,_(d);const S=Math.min(Math.round((N(e(c[d]).$el).scrollTop-(be(d)*.5-10)/R(d)+3)/R(d)),d==="hours"?23:59);U(d,S)},be=d=>e(c[d]).$el.offsetHeight,H=()=>{const d=S=>{const Y=e(c[S]);Y&&Y.$el&&(N(Y.$el).onscroll=()=>{pe(S)})};d("hours"),d("minutes"),d("seconds")};Da(()=>{Ie(()=>{!n.arrowControl&&H(),L(),n.role==="start"&&F("hours")})});const A=(d,S)=>{c[S].value=d};return f("set-option",[`${n.role}_scrollDown`,Q]),f("set-option",[`${n.role}_emitSelectRange`,F]),xe(()=>n.spinnerDate,()=>{k||L()}),(d,S)=>(T(),W("div",{class:b([e(a).b("spinner"),{"has-seconds":d.showSeconds}])},[d.arrowControl?ve("v-if",!0):(T(!0),W(ge,{key:0},_e(e(u),Y=>(T(),ke(e(Va),{key:Y,ref_for:!0,ref:l=>A(l,Y),class:b(e(a).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(a).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:l=>F(Y),onMousemove:l=>$(Y)},{default:le(()=>[(T(!0),W(ge,null,_e(e(s)[Y],(l,C)=>(T(),W("li",{key:C,class:b([e(a).be("spinner","item"),e(a).is("active",C===e(p)[Y]),e(a).is("disabled",l)]),onClick:E=>ae(Y,{value:C,disabled:l})},[Y==="hours"?(T(),W(ge,{key:0},[je(de(("0"+(d.amPmMode?C%12||12:C)).slice(-2))+de(i(C)),1)],64)):(T(),W(ge,{key:1},[je(de(("0"+C).slice(-2)),1)],64))],10,Ja))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),d.arrowControl?(T(!0),W(ge,{key:1},_e(e(u),Y=>(T(),W("div",{key:Y,class:b([e(a).be("spinner","wrapper"),e(a).is("arrow")]),onMouseenter:l=>F(Y)},[Re((T(),ke(e(me),{class:b(["arrow-up",e(a).be("spinner","arrow")])},{default:le(()=>[B(e(Sa))]),_:1},8,["class"])),[[e(Bt),q]]),Re((T(),ke(e(me),{class:b(["arrow-down",e(a).be("spinner","arrow")])},{default:le(()=>[B(e(Ca))]),_:1},8,["class"])),[[e(Bt),G]]),K("ul",{class:b(e(a).be("spinner","list"))},[(T(!0),W(ge,null,_e(e(M)[Y],(l,C)=>(T(),W("li",{key:C,class:b([e(a).be("spinner","item"),e(a).is("active",l===e(p)[Y]),e(a).is("disabled",e(s)[Y][l])])},[typeof l=="number"?(T(),W(ge,{key:0},[Y==="hours"?(T(),W(ge,{key:0},[je(de(("0"+(d.amPmMode?l%12||12:l)).slice(-2))+de(i(l)),1)],64)):(T(),W(ge,{key:1},[je(de(("0"+l).slice(-2)),1)],64))],64)):ve("v-if",!0)],2))),128))],2)],42,Xa))),128)):ve("v-if",!0)],2))}});var en=Le(Qa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const tn=Ve({__name:"panel-time-pick",props:za,emits:["pick","select-range","set-picker-option"],setup(r,{emit:f}){const n=r,a=Ge("EP_PICKER_BASE"),{arrowControl:v,disabledHours:m,disabledMinutes:y,disabledSeconds:k,defaultValue:w}=a.props,{getAvailableHours:D,getAvailableMinutes:I,getAvailableSeconds:g}=Ha(m,y,k),c=Te("time"),{t:u,lang:p}=Ne(),s=Z([0,2]),M=ja(n),_=x(()=>Ma(n.actualVisible)?`${c.namespace.value}-zoom-in-top`:""),i=x(()=>n.format.includes("ss")),F=x(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),$=A=>{const d=j(A).locale(p.value),S=ae(d);return d.isSame(S)},L=()=>{f("pick",M.value,!1)},N=(A=!1,d=!1)=>{d||f("pick",n.parsedValue,A)},z=A=>{if(!n.visible)return;const d=ae(A).millisecond(0);f("pick",d,!0)},R=(A,d)=>{f("select-range",A,d),s.value=[A,d]},G=A=>{const d=[0,3].concat(i.value?[6]:[]),S=["hours","minutes"].concat(i.value?["seconds"]:[]),l=(d.indexOf(s.value[0])+A+d.length)%d.length;Q.start_emitSelectRange(S[l])},q=A=>{const d=A.code,{left:S,right:Y,up:l,down:C}=ye;if([S,Y].includes(d)){G(d===S?-1:1),A.preventDefault();return}if([l,C].includes(d)){const E=d===l?-1:1;Q.start_scrollDown(E),A.preventDefault();return}},{timePickerOptions:Q,onSetOption:oe,getAvailableTime:U}=Ua({getAvailableHours:D,getAvailableMinutes:I,getAvailableSeconds:g}),ae=A=>U(A,n.datetimeRole||"",!0),pe=A=>A?j(A,n.format).locale(p.value):null,be=A=>A?A.format(n.format):null,H=()=>j(w).locale(p.value);return f("set-picker-option",["isValidValue",$]),f("set-picker-option",["formatToString",be]),f("set-picker-option",["parseUserInput",pe]),f("set-picker-option",["handleKeydownInput",q]),f("set-picker-option",["getRangeAvailableTime",ae]),f("set-picker-option",["getDefaultValue",H]),(A,d)=>(T(),ke(Pa,{name:e(_)},{default:le(()=>[A.actualVisible||A.visible?(T(),W("div",{key:0,class:b(e(c).b("panel"))},[K("div",{class:b([e(c).be("panel","content"),{"has-seconds":e(i)}])},[B(en,{ref:"spinner",role:A.datetimeRole||"start","arrow-control":e(v),"show-seconds":e(i),"am-pm-mode":e(F),"spinner-date":A.parsedValue,"disabled-hours":e(m),"disabled-minutes":e(y),"disabled-seconds":e(k),onChange:z,onSetOption:e(oe),onSelectRange:R},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),K("div",{class:b(e(c).be("panel","footer"))},[K("button",{type:"button",class:b([e(c).be("panel","btn"),"cancel"]),onClick:L},de(e(u)("el.datepicker.cancel")),3),K("button",{type:"button",class:b([e(c).be("panel","btn"),"confirm"]),onClick:d[0]||(d[0]=S=>N())},de(e(u)("el.datepicker.confirm")),3)],2)],2)):ve("v-if",!0)]),_:1},8,["name"]))}});var Mt=Le(tn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),ea={exports:{}};(function(r,f){(function(n,a){r.exports=a()})(Ze,function(){return function(n,a,v){var m=a.prototype,y=function(g){return g&&(g.indexOf?g:g.s)},k=function(g,c,u,p,s){var M=g.name?g:g.$locale(),_=y(M[c]),i=y(M[u]),F=_||i.map(function(L){return L.slice(0,p)});if(!s)return F;var $=M.weekStart;return F.map(function(L,N){return F[(N+($||0))%7]})},w=function(){return v.Ls[v.locale()]},D=function(g,c){return g.formats[c]||function(u){return u.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,s,M){return s||M.slice(1)})}(g.formats[c.toUpperCase()])},I=function(){var g=this;return{months:function(c){return c?c.format("MMMM"):k(g,"months")},monthsShort:function(c){return c?c.format("MMM"):k(g,"monthsShort","months",3)},firstDayOfWeek:function(){return g.$locale().weekStart||0},weekdays:function(c){return c?c.format("dddd"):k(g,"weekdays")},weekdaysMin:function(c){return c?c.format("dd"):k(g,"weekdaysMin","weekdays",2)},weekdaysShort:function(c){return c?c.format("ddd"):k(g,"weekdaysShort","weekdays",3)},longDateFormat:function(c){return D(g.$locale(),c)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};m.localeData=function(){return I.bind(this)()},v.localeData=function(){var g=w();return{firstDayOfWeek:function(){return g.weekStart||0},weekdays:function(){return v.weekdays()},weekdaysShort:function(){return v.weekdaysShort()},weekdaysMin:function(){return v.weekdaysMin()},months:function(){return v.months()},monthsShort:function(){return v.monthsShort()},longDateFormat:function(c){return D(g,c)},meridiem:g.meridiem,ordinal:g.ordinal}},v.months=function(){return k(w(),"months")},v.monthsShort=function(){return k(w(),"monthsShort","months",3)},v.weekdays=function(g){return k(w(),"weekdays",null,null,g)},v.weekdaysShort=function(g){return k(w(),"weekdaysShort","weekdays",3,g)},v.weekdaysMin=function(g){return k(w(),"weekdaysMin","weekdays",2,g)}}})})(ea);var an=ea.exports;const nn=qe(an);var ta={exports:{}};(function(r,f){(function(n,a){r.exports=a()})(Ze,function(){return function(n,a){var v=a.prototype,m=v.format;v.format=function(y){var k=this,w=this.$locale();if(!this.isValid())return m.bind(this)(y);var D=this.$utils(),I=(y||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(g){switch(g){case"Q":return Math.ceil((k.$M+1)/3);case"Do":return w.ordinal(k.$D);case"gggg":return k.weekYear();case"GGGG":return k.isoWeekYear();case"wo":return w.ordinal(k.week(),"W");case"w":case"ww":return D.s(k.week(),g==="w"?1:2,"0");case"W":case"WW":return D.s(k.isoWeek(),g==="W"?1:2,"0");case"k":case"kk":return D.s(String(k.$H===0?24:k.$H),g==="k"?1:2,"0");case"X":return Math.floor(k.$d.getTime()/1e3);case"x":return k.$d.getTime();case"z":return"["+k.offsetName()+"]";case"zzz":return"["+k.offsetName("long")+"]";default:return g}});return m.bind(this)(I)}}})})(ta);var ln=ta.exports;const sn=qe(ln);var aa={exports:{}};(function(r,f){(function(n,a){r.exports=a()})(Ze,function(){var n="week",a="year";return function(v,m,y){var k=m.prototype;k.week=function(w){if(w===void 0&&(w=null),w!==null)return this.add(7*(w-this.week()),"day");var D=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var I=y(this).startOf(a).add(1,a).date(D),g=y(this).endOf(n);if(I.isBefore(g))return 1}var c=y(this).startOf(a).date(D).startOf(n).subtract(1,"millisecond"),u=this.diff(c,n,!0);return u<0?y(this).startOf("week").week():Math.ceil(u)},k.weeks=function(w){return w===void 0&&(w=null),this.week(w)}}})})(aa);var on=aa.exports;const rn=qe(on);var na={exports:{}};(function(r,f){(function(n,a){r.exports=a()})(Ze,function(){return function(n,a){a.prototype.weekYear=function(){var v=this.month(),m=this.week(),y=this.year();return m===1&&v===11?y+1:v===0&&m>=52?y-1:y}}})})(na);var un=na.exports;const cn=qe(un);var la={exports:{}};(function(r,f){(function(n,a){r.exports=a()})(Ze,function(){return function(n,a,v){a.prototype.dayOfYear=function(m){var y=Math.round((v(this).startOf("day")-v(this).startOf("year"))/864e5)+1;return m==null?y:this.add(m-y,"day")}}})})(la);var dn=la.exports;const fn=qe(dn);var sa={exports:{}};(function(r,f){(function(n,a){r.exports=a()})(Ze,function(){return function(n,a){a.prototype.isSameOrAfter=function(v,m){return this.isSame(v,m)||this.isAfter(v,m)}}})})(sa);var vn=sa.exports;const pn=qe(vn);var oa={exports:{}};(function(r,f){(function(n,a){r.exports=a()})(Ze,function(){return function(n,a){a.prototype.isSameOrBefore=function(v,m){return this.isSame(v,m)||this.isBefore(v,m)}}})})(oa);var mn=oa.exports;const hn=qe(mn),Vt=Symbol(),bn=Se({...Xt,type:{type:ie(String),default:"date"}}),yn=["date","dates","year","month","week","range"],Ot=Se({disabledDate:{type:ie(Function)},date:{type:ie(Object),required:!0},minDate:{type:ie(Object)},maxDate:{type:ie(Object)},parsedValue:{type:ie([Object,Array])},rangeState:{type:ie(Object),default:()=>({endDate:null,selecting:!1})}}),ra=Se({type:{type:ie(String),required:!0,values:Ya}}),ua=Se({unlinkPanels:Boolean,parsedValue:{type:ie(Array)}}),ia=r=>({type:String,values:yn,default:r}),gn=Se({...ra,parsedValue:{type:ie([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),kn=Se({...Ot,cellClassName:{type:ie(Function)},showWeekNumber:Boolean,selectionMode:ia("date")}),Pt=r=>{if(!we(r))return!1;const[f,n]=r;return j.isDayjs(f)&&j.isDayjs(n)&&f.isSameOrBefore(n)},ca=(r,{lang:f,unit:n,unlinkPanels:a})=>{let v;if(we(r)){let[m,y]=r.map(k=>j(k).locale(f));return a||(y=m.add(1,n)),[m,y]}else r?v=j(r):v=j();return v=v.locale(f),[v,v.add(1,n)]},wn=(r,f,{columnIndexOffset:n,startDate:a,nextEndDate:v,now:m,unit:y,relativeDateGetter:k,setCellMetadata:w,setRowMetadata:D})=>{for(let I=0;I<r.row;I++){const g=f[I];for(let c=0;c<r.column;c++){let u=g[c+n];u||(u={row:I,column:c,type:"normal",inRange:!1,start:!1,end:!1});const p=I*r.column+c,s=k(p);u.dayjs=s,u.date=s.toDate(),u.timestamp=s.valueOf(),u.type="normal",u.inRange=!!(a&&s.isSameOrAfter(a,y)&&v&&s.isSameOrBefore(v,y))||!!(a&&s.isSameOrBefore(a,y)&&v&&s.isSameOrAfter(v,y)),a!=null&&a.isSameOrAfter(v)?(u.start=!!v&&s.isSame(v,y),u.end=a&&s.isSame(a,y)):(u.start=!!a&&s.isSame(a,y),u.end=!!v&&s.isSame(v,y)),s.isSame(m,y)&&(u.type="today"),w==null||w(u,{rowIndex:I,columnIndex:c}),g[c+n]=u}D==null||D(g)}},Dn=Se({cell:{type:ie(Object)}});var Sn=Ve({name:"ElDatePickerCell",props:Dn,setup(r){const f=Te("date-table-cell"),{slots:n}=Ge(Vt);return()=>{const{cell:a}=r;if(n.default){const v=n.default(a).filter(m=>m.patchFlag!==-2&&m.type.toString()!=="Symbol(Comment)");if(v.length)return v}return B("div",{class:f.b()},[B("span",{class:f.e("text")},[a==null?void 0:a.text])])}}});const Cn=["aria-label","onMousedown"],Mn={key:0,scope:"col"},Pn=["aria-label"],_n=["aria-current","aria-selected","tabindex"],$n=Ve({__name:"basic-date-table",props:kn,emits:["changerange","pick","select"],setup(r,{expose:f,emit:n}){const a=r,v=Te("date-table"),{t:m,lang:y}=Ne(),k=Z(),w=Z(),D=Z(),I=Z(),g=Z([[],[],[],[],[],[]]);let c=!1;const u=a.date.$locale().weekStart||7,p=a.date.locale("en").localeData().weekdaysShort().map(l=>l.toLowerCase()),s=x(()=>u>3?7-u:-u),M=x(()=>{const l=a.date.startOf("month");return l.subtract(l.day()||7,"day")}),_=x(()=>p.concat(p).slice(u,u+7)),i=x(()=>$a(R.value).some(l=>l.isCurrent)),F=x(()=>{const l=a.date.startOf("month"),C=l.day()||7,E=l.daysInMonth(),J=l.subtract(1,"month").daysInMonth();return{startOfMonthDay:C,dateCountOfMonth:E,dateCountOfLastMonth:J}}),$=x(()=>a.selectionMode==="dates"?tt(a.parsedValue):[]),L=(l,{count:C,rowIndex:E,columnIndex:J})=>{const{startOfMonthDay:ee,dateCountOfMonth:ce,dateCountOfLastMonth:ne}=e(F),re=e(s);if(E>=0&&E<=1){const se=ee+re<0?7+ee+re:ee+re;if(J+E*7>=se)return l.text=C,!0;l.text=ne-(se-J%7)+1+E*7,l.type="prev-month"}else return C<=ce?l.text=C:(l.text=C-ce,l.type="next-month"),!0;return!1},N=(l,{columnIndex:C,rowIndex:E},J)=>{const{disabledDate:ee,cellClassName:ce}=a,ne=e($),re=L(l,{count:J,rowIndex:E,columnIndex:C}),se=l.dayjs.toDate();return l.selected=ne.find(Ce=>Ce.valueOf()===l.dayjs.valueOf()),l.isSelected=!!l.selected,l.isCurrent=Q(l),l.disabled=ee==null?void 0:ee(se),l.customClass=ce==null?void 0:ce(se),re},z=l=>{if(a.selectionMode==="week"){const[C,E]=a.showWeekNumber?[1,7]:[0,6],J=Y(l[C+1]);l[C].inRange=J,l[C].start=J,l[E].inRange=J,l[E].end=J}},R=x(()=>{const{minDate:l,maxDate:C,rangeState:E,showWeekNumber:J}=a,ee=s.value,ce=g.value,ne="day";let re=1;if(J)for(let se=0;se<6;se++)ce[se][0]||(ce[se][0]={type:"week",text:M.value.add(se*7+1,ne).week()});return wn({row:6,column:7},ce,{startDate:l,columnIndexOffset:J?1:0,nextEndDate:E.endDate||C||E.selecting&&l||null,now:j().locale(e(y)).startOf(ne),unit:ne,relativeDateGetter:se=>M.value.add(se-ee,ne),setCellMetadata:(...se)=>{N(...se,re)&&(re+=1)},setRowMetadata:z}),ce});xe(()=>a.date,async()=>{var l,C;(l=k.value)!=null&&l.contains(document.activeElement)&&(await Ie(),(C=w.value)==null||C.focus())});const G=async()=>{var l;(l=w.value)==null||l.focus()},q=(l="")=>["normal","today"].includes(l),Q=l=>a.selectionMode==="date"&&q(l.type)&&oe(l,a.parsedValue),oe=(l,C)=>C?j(C).locale(y.value).isSame(a.date.date(Number(l.text)),"day"):!1,U=l=>{const C=[];return q(l.type)&&!l.disabled?(C.push("available"),l.type==="today"&&C.push("today")):C.push(l.type),Q(l)&&C.push("current"),l.inRange&&(q(l.type)||a.selectionMode==="week")&&(C.push("in-range"),l.start&&C.push("start-date"),l.end&&C.push("end-date")),l.disabled&&C.push("disabled"),l.selected&&C.push("selected"),l.customClass&&C.push(l.customClass),C.join(" ")},ae=(l,C)=>{const E=l*7+(C-(a.showWeekNumber?1:0))-s.value;return M.value.add(E,"day")},pe=l=>{var C;if(!a.rangeState.selecting)return;let E=l.target;if(E.tagName==="SPAN"&&(E=(C=E.parentNode)==null?void 0:C.parentNode),E.tagName==="DIV"&&(E=E.parentNode),E.tagName!=="TD")return;const J=E.parentNode.rowIndex-1,ee=E.cellIndex;R.value[J][ee].disabled||(J!==D.value||ee!==I.value)&&(D.value=J,I.value=ee,n("changerange",{selecting:!0,endDate:ae(J,ee)}))},be=l=>!i.value&&(l==null?void 0:l.text)===1&&l.type==="normal"||l.isCurrent,H=l=>{c||i.value||a.selectionMode!=="date"||S(l,!0)},A=l=>{l.target.closest("td")&&(c=!0)},d=l=>{l.target.closest("td")&&(c=!1)},S=(l,C=!1)=>{const E=l.target.closest("td");if(!E)return;const J=E.parentNode.rowIndex-1,ee=E.cellIndex,ce=R.value[J][ee];if(ce.disabled||ce.type==="week")return;const ne=ae(J,ee);if(a.selectionMode==="range")!a.rangeState.selecting||!a.minDate?(n("pick",{minDate:ne,maxDate:null}),n("select",!0)):(ne>=a.minDate?n("pick",{minDate:a.minDate,maxDate:ne}):n("pick",{minDate:ne,maxDate:a.minDate}),n("select",!1));else if(a.selectionMode==="date")n("pick",ne,C);else if(a.selectionMode==="week"){const re=ne.week(),se=`${ne.year()}w${re}`;n("pick",{year:ne.year(),week:re,value:se,date:ne.startOf("week")})}else if(a.selectionMode==="dates"){const re=ce.selected?tt(a.parsedValue).filter(se=>(se==null?void 0:se.valueOf())!==ne.valueOf()):tt(a.parsedValue).concat([ne]);n("pick",re)}},Y=l=>{if(a.selectionMode!=="week")return!1;let C=a.date.startOf("day");if(l.type==="prev-month"&&(C=C.subtract(1,"month")),l.type==="next-month"&&(C=C.add(1,"month")),C=C.date(Number.parseInt(l.text,10)),a.parsedValue&&!Array.isArray(a.parsedValue)){const E=(a.parsedValue.day()-u+7)%7-1;return a.parsedValue.subtract(E,"day").isSame(C,"day")}return!1};return f({focus:G}),(l,C)=>(T(),W("table",{role:"grid","aria-label":e(m)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:b([e(v).b(),{"is-week-mode":l.selectionMode==="week"}]),onClick:S,onMousemove:pe,onMousedown:Ee(A,["prevent"]),onMouseup:d},[K("tbody",{ref_key:"tbodyRef",ref:k},[K("tr",null,[l.showWeekNumber?(T(),W("th",Mn,de(e(m)("el.datepicker.week")),1)):ve("v-if",!0),(T(!0),W(ge,null,_e(e(_),(E,J)=>(T(),W("th",{key:J,scope:"col","aria-label":e(m)("el.datepicker.weeksFull."+E)},de(e(m)("el.datepicker.weeks."+E)),9,Pn))),128))]),(T(!0),W(ge,null,_e(e(R),(E,J)=>(T(),W("tr",{key:J,class:b([e(v).e("row"),{current:Y(E[1])}])},[(T(!0),W(ge,null,_e(E,(ee,ce)=>(T(),W("td",{key:`${J}.${ce}`,ref_for:!0,ref:ne=>be(ee)&&(w.value=ne),class:b(U(ee)),"aria-current":ee.isCurrent?"date":void 0,"aria-selected":ee.isCurrent,tabindex:be(ee)?0:-1,onFocus:H},[B(e(Sn),{cell:ee},null,8,["cell"])],42,_n))),128))],2))),128))],512)],42,Cn))}});var _t=Le($n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const Tn=Se({...Ot,selectionMode:ia("month")}),Vn=["aria-label"],On=["aria-selected","aria-label","tabindex","onKeydown"],xn={class:"cell"},In=Ve({__name:"basic-month-table",props:Tn,emits:["changerange","pick","select"],setup(r,{expose:f,emit:n}){const a=r,v=($,L,N)=>{const z=j().locale(N).startOf("month").month(L).year($),R=z.daysInMonth();return Gt(R).map(G=>z.add(G,"day").toDate())},m=Te("month-table"),{t:y,lang:k}=Ne(),w=Z(),D=Z(),I=Z(a.date.locale("en").localeData().monthsShort().map($=>$.toLowerCase())),g=Z([[],[],[]]),c=Z(),u=Z(),p=x(()=>{var $,L;const N=g.value,z=j().locale(k.value).startOf("month");for(let R=0;R<3;R++){const G=N[R];for(let q=0;q<4;q++){const Q=G[q]||(G[q]={row:R,column:q,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});Q.type="normal";const oe=R*4+q,U=a.date.startOf("year").month(oe),ae=a.rangeState.endDate||a.maxDate||a.rangeState.selecting&&a.minDate||null;Q.inRange=!!(a.minDate&&U.isSameOrAfter(a.minDate,"month")&&ae&&U.isSameOrBefore(ae,"month"))||!!(a.minDate&&U.isSameOrBefore(a.minDate,"month")&&ae&&U.isSameOrAfter(ae,"month")),($=a.minDate)!=null&&$.isSameOrAfter(ae)?(Q.start=!!(ae&&U.isSame(ae,"month")),Q.end=a.minDate&&U.isSame(a.minDate,"month")):(Q.start=!!(a.minDate&&U.isSame(a.minDate,"month")),Q.end=!!(ae&&U.isSame(ae,"month"))),z.isSame(U)&&(Q.type="today"),Q.text=oe,Q.disabled=((L=a.disabledDate)==null?void 0:L.call(a,U.toDate()))||!1}}return N}),s=()=>{var $;($=D.value)==null||$.focus()},M=$=>{const L={},N=a.date.year(),z=new Date,R=$.text;return L.disabled=a.disabledDate?v(N,R,k.value).every(a.disabledDate):!1,L.current=tt(a.parsedValue).findIndex(G=>j.isDayjs(G)&&G.year()===N&&G.month()===R)>=0,L.today=z.getFullYear()===N&&z.getMonth()===R,$.inRange&&(L["in-range"]=!0,$.start&&(L["start-date"]=!0),$.end&&(L["end-date"]=!0)),L},_=$=>{const L=a.date.year(),N=$.text;return tt(a.date).findIndex(z=>z.year()===L&&z.month()===N)>=0},i=$=>{var L;if(!a.rangeState.selecting)return;let N=$.target;if(N.tagName==="A"&&(N=(L=N.parentNode)==null?void 0:L.parentNode),N.tagName==="DIV"&&(N=N.parentNode),N.tagName!=="TD")return;const z=N.parentNode.rowIndex,R=N.cellIndex;p.value[z][R].disabled||(z!==c.value||R!==u.value)&&(c.value=z,u.value=R,n("changerange",{selecting:!0,endDate:a.date.startOf("year").month(z*4+R)}))},F=$=>{var L;const N=(L=$.target)==null?void 0:L.closest("td");if((N==null?void 0:N.tagName)!=="TD"||zt(N,"disabled"))return;const z=N.cellIndex,G=N.parentNode.rowIndex*4+z,q=a.date.startOf("year").month(G);a.selectionMode==="range"?a.rangeState.selecting?(a.minDate&&q>=a.minDate?n("pick",{minDate:a.minDate,maxDate:q}):n("pick",{minDate:q,maxDate:a.minDate}),n("select",!1)):(n("pick",{minDate:q,maxDate:null}),n("select",!0)):n("pick",G)};return xe(()=>a.date,async()=>{var $,L;($=w.value)!=null&&$.contains(document.activeElement)&&(await Ie(),(L=D.value)==null||L.focus())}),f({focus:s}),($,L)=>(T(),W("table",{role:"grid","aria-label":e(y)("el.datepicker.monthTablePrompt"),class:b(e(m).b()),onClick:F,onMousemove:i},[K("tbody",{ref_key:"tbodyRef",ref:w},[(T(!0),W(ge,null,_e(e(p),(N,z)=>(T(),W("tr",{key:z},[(T(!0),W(ge,null,_e(N,(R,G)=>(T(),W("td",{key:G,ref_for:!0,ref:q=>_(R)&&(D.value=q),class:b(M(R)),"aria-selected":`${_(R)}`,"aria-label":e(y)(`el.datepicker.month${+R.text+1}`),tabindex:_(R)?0:-1,onKeydown:[st(Ee(F,["prevent","stop"]),["space"]),st(Ee(F,["prevent","stop"]),["enter"])]},[K("div",null,[K("span",xn,de(e(y)("el.datepicker.months."+I.value[R.text])),1)])],42,On))),128))]))),128))],512)],42,Vn))}});var $t=Le(In,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:Yn,disabledDate:Rn,parsedValue:An}=Ot,En=Se({date:Yn,disabledDate:Rn,parsedValue:An}),Nn=["aria-label"],Fn=["aria-selected","tabindex","onKeydown"],Ln={class:"cell"},Bn={key:1},Wn=Ve({__name:"basic-year-table",props:En,emits:["pick"],setup(r,{expose:f,emit:n}){const a=r,v=(s,M)=>{const _=j(String(s)).locale(M).startOf("year"),F=_.endOf("year").dayOfYear();return Gt(F).map($=>_.add($,"day").toDate())},m=Te("year-table"),{t:y,lang:k}=Ne(),w=Z(),D=Z(),I=x(()=>Math.floor(a.date.year()/10)*10),g=()=>{var s;(s=D.value)==null||s.focus()},c=s=>{const M={},_=j().locale(k.value);return M.disabled=a.disabledDate?v(s,k.value).every(a.disabledDate):!1,M.current=tt(a.parsedValue).findIndex(i=>i.year()===s)>=0,M.today=_.year()===s,M},u=s=>s===I.value&&a.date.year()<I.value&&a.date.year()>I.value+9||tt(a.date).findIndex(M=>M.year()===s)>=0,p=s=>{const _=s.target.closest("td");if(_&&_.textContent){if(zt(_,"disabled"))return;const i=_.textContent||_.innerText;n("pick",Number(i))}};return xe(()=>a.date,async()=>{var s,M;(s=w.value)!=null&&s.contains(document.activeElement)&&(await Ie(),(M=D.value)==null||M.focus())}),f({focus:g}),(s,M)=>(T(),W("table",{role:"grid","aria-label":e(y)("el.datepicker.yearTablePrompt"),class:b(e(m).b()),onClick:p},[K("tbody",{ref_key:"tbodyRef",ref:w},[(T(),W(ge,null,_e(3,(_,i)=>K("tr",{key:i},[(T(),W(ge,null,_e(4,(F,$)=>(T(),W(ge,{key:i+"_"+$},[i*4+$<10?(T(),W("td",{key:0,ref_for:!0,ref:L=>u(e(I)+i*4+$)&&(D.value=L),class:b(["available",c(e(I)+i*4+$)]),"aria-selected":`${u(e(I)+i*4+$)}`,tabindex:u(e(I)+i*4+$)?0:-1,onKeydown:[st(Ee(p,["prevent","stop"]),["space"]),st(Ee(p,["prevent","stop"]),["enter"])]},[K("span",Ln,de(e(I)+i*4+$),1)],42,Fn)):(T(),W("td",Bn))],64))),64))])),64))],512)],10,Nn))}});var Kn=Le(Wn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const zn=["onClick"],Un=["aria-label"],Hn=["aria-label"],jn=["aria-label"],Gn=["aria-label"],Zn=Ve({__name:"panel-date-pick",props:gn,emits:["pick","set-picker-option","panel-change"],setup(r,{emit:f}){const n=r,a=(o,V,h)=>!0,v=Te("picker-panel"),m=Te("date-picker"),y=Tt(),k=Ut(),{t:w,lang:D}=Ne(),I=Ge("EP_PICKER_BASE"),g=Ge(Oa),{shortcuts:c,disabledDate:u,cellClassName:p,defaultTime:s}=I.props,M=ot(I.props,"defaultValue"),_=Z(),i=Z(j().locale(D.value)),F=Z(!1);let $=!1;const L=x(()=>j(s).locale(D.value)),N=x(()=>i.value.month()),z=x(()=>i.value.year()),R=Z([]),G=Z(null),q=Z(null),Q=o=>R.value.length>0?a(o,R.value,n.format||"HH:mm:ss"):!0,oe=o=>s&&!Pe.value&&!F.value&&!$?L.value.year(o.year()).month(o.month()).date(o.date()):ee.value?o.millisecond(0):o.startOf("day"),U=(o,...V)=>{if(!o)f("pick",o,...V);else if(we(o)){const h=o.map(oe);f("pick",h,...V)}else f("pick",oe(o),...V);G.value=null,q.value=null,F.value=!1,$=!1},ae=(o,V)=>{if(S.value==="date"){o=o;let h=n.parsedValue?n.parsedValue.year(o.year()).month(o.month()).date(o.date()):o;Q(h)||(h=R.value[0][0].year(o.year()).month(o.month()).date(o.date())),i.value=h,U(h,ee.value||V)}else S.value==="week"?U(o.date):S.value==="dates"&&U(o,!0)},pe=o=>{const V=o?"add":"subtract";i.value=i.value[V](1,"month"),He("month")},be=o=>{const V=i.value,h=o?"add":"subtract";i.value=H.value==="year"?V[h](10,"year"):V[h](1,"year"),He("year")},H=Z("date"),A=x(()=>{const o=w("el.datepicker.year");if(H.value==="year"){const V=Math.floor(z.value/10)*10;return o?`${V} ${o} - ${V+9} ${o}`:`${V} - ${V+9}`}return`${z.value} ${o}`}),d=o=>{const V=ct(o.value)?o.value():o.value;if(V){$=!0,U(j(V).locale(D.value));return}o.onClick&&o.onClick({attrs:y,slots:k,emit:f})},S=x(()=>{const{type:o}=n;return["week","month","year","dates"].includes(o)?o:"date"}),Y=x(()=>S.value==="date"?H.value:S.value),l=x(()=>!!c.length),C=async o=>{i.value=i.value.startOf("month").month(o),S.value==="month"?U(i.value,!1):(H.value="date",["month","year","date","week"].includes(S.value)&&(U(i.value,!0),await Ie(),Ue())),He("month")},E=async o=>{S.value==="year"?(i.value=i.value.startOf("year").year(o),U(i.value,!1)):(i.value=i.value.year(o),H.value="month",["month","year","date","week"].includes(S.value)&&(U(i.value,!0),await Ie(),Ue())),He("year")},J=async o=>{H.value=o,await Ie(),Ue()},ee=x(()=>n.type==="datetime"||n.type==="datetimerange"),ce=x(()=>ee.value||S.value==="dates"),ne=x(()=>u?n.parsedValue?we(n.parsedValue)?u(n.parsedValue[0].toDate()):u(n.parsedValue.toDate()):!0:!1),re=()=>{if(S.value==="dates")U(n.parsedValue);else{let o=n.parsedValue;if(!o){const V=j(s).locale(D.value),h=ze();o=V.year(h.year()).month(h.month()).date(h.date())}i.value=o,U(o)}},se=x(()=>u?u(j().locale(D.value).toDate()):!1),Ce=()=>{const V=j().locale(D.value).toDate();F.value=!0,(!u||!u(V))&&Q(V)&&(i.value=j().locale(D.value),U(i.value))},he=x(()=>qt(n.format)),Me=x(()=>Zt(n.format)),Pe=x(()=>{if(q.value)return q.value;if(!(!n.parsedValue&&!M.value))return(n.parsedValue||i.value).format(he.value)}),Oe=x(()=>{if(G.value)return G.value;if(!(!n.parsedValue&&!M.value))return(n.parsedValue||i.value).format(Me.value)}),De=Z(!1),Be=()=>{De.value=!0},at=()=>{De.value=!1},$e=o=>({hour:o.hour(),minute:o.minute(),second:o.second(),year:o.year(),month:o.month(),date:o.date()}),te=(o,V,h)=>{const{hour:O,minute:t,second:P}=$e(o),X=n.parsedValue?n.parsedValue.hour(O).minute(t).second(P):o;i.value=X,U(i.value,!0),h||(De.value=V)},Je=o=>{const V=j(o,he.value).locale(D.value);if(V.isValid()&&Q(V)){const{year:h,month:O,date:t}=$e(i.value);i.value=V.year(h).month(O).date(t),q.value=null,De.value=!1,U(i.value,!0)}},We=o=>{const V=j(o,Me.value).locale(D.value);if(V.isValid()){if(u&&u(V.toDate()))return;const{hour:h,minute:O,second:t}=$e(i.value);i.value=V.hour(h).minute(O).second(t),G.value=null,U(i.value,!0)}},Ke=o=>j.isDayjs(o)&&o.isValid()&&(u?!u(o.toDate()):!0),Fe=o=>S.value==="dates"?o.map(V=>V.format(n.format)):o.format(n.format),Xe=o=>j(o,n.format).locale(D.value),ze=()=>{const o=j(M.value).locale(D.value);if(!M.value){const V=L.value;return j().hour(V.hour()).minute(V.minute()).second(V.second()).locale(D.value)}return o},Ue=async()=>{var o;["week","month","year","date"].includes(S.value)&&((o=_.value)==null||o.focus(),S.value==="week"&&Qe(ye.down))},rt=o=>{const{code:V}=o;[ye.up,ye.down,ye.left,ye.right,ye.home,ye.end,ye.pageUp,ye.pageDown].includes(V)&&(Qe(V),o.stopPropagation(),o.preventDefault()),[ye.enter,ye.space,ye.numpadEnter].includes(V)&&G.value===null&&q.value===null&&(o.preventDefault(),U(i.value,!1))},Qe=o=>{var V;const{up:h,down:O,left:t,right:P,home:X,end:fe,pageUp:Ye,pageDown:fa}=ye,va={year:{[h]:-4,[O]:4,[t]:-1,[P]:1,offset:(ue,Ae)=>ue.setFullYear(ue.getFullYear()+Ae)},month:{[h]:-4,[O]:4,[t]:-1,[P]:1,offset:(ue,Ae)=>ue.setMonth(ue.getMonth()+Ae)},week:{[h]:-1,[O]:1,[t]:-1,[P]:1,offset:(ue,Ae)=>ue.setDate(ue.getDate()+Ae*7)},date:{[h]:-7,[O]:7,[t]:-1,[P]:1,[X]:ue=>-ue.getDay(),[fe]:ue=>-ue.getDay()+6,[Ye]:ue=>-new Date(ue.getFullYear(),ue.getMonth(),0).getDate(),[fa]:ue=>new Date(ue.getFullYear(),ue.getMonth()+1,0).getDate(),offset:(ue,Ae)=>ue.setDate(ue.getDate()+Ae)}},ut=i.value.toDate();for(;Math.abs(i.value.diff(ut,"year",!0))<1;){const ue=va[Y.value];if(!ue)return;if(ue.offset(ut,ct(ue[o])?ue[o](ut):(V=ue[o])!=null?V:0),u&&u(ut))break;const Ae=j(ut).locale(D.value);i.value=Ae,f("pick",Ae,!0);break}},He=o=>{f("panel-change",i.value.toDate(),o,H.value)};return xe(()=>S.value,o=>{if(["month","year"].includes(o)){H.value=o;return}H.value="date"},{immediate:!0}),xe(()=>H.value,()=>{g==null||g.updatePopper()}),xe(()=>M.value,o=>{o&&(i.value=ze())},{immediate:!0}),xe(()=>n.parsedValue,o=>{if(o){if(S.value==="dates"||Array.isArray(o))return;i.value=o}else i.value=ze()},{immediate:!0}),f("set-picker-option",["isValidValue",Ke]),f("set-picker-option",["formatToString",Fe]),f("set-picker-option",["parseUserInput",Xe]),f("set-picker-option",["handleFocusPicker",Ue]),(o,V)=>(T(),W("div",{class:b([e(v).b(),e(m).b(),{"has-sidebar":o.$slots.sidebar||e(l),"has-time":e(ee)}])},[K("div",{class:b(e(v).e("body-wrapper"))},[it(o.$slots,"sidebar",{class:b(e(v).e("sidebar"))}),e(l)?(T(),W("div",{key:0,class:b(e(v).e("sidebar"))},[(T(!0),W(ge,null,_e(e(c),(h,O)=>(T(),W("button",{key:O,type:"button",class:b(e(v).e("shortcut")),onClick:t=>d(h)},de(h.text),11,zn))),128))],2)):ve("v-if",!0),K("div",{class:b(e(v).e("body"))},[e(ee)?(T(),W("div",{key:0,class:b(e(m).e("time-header"))},[K("span",{class:b(e(m).e("editor-wrap"))},[B(e(et),{placeholder:e(w)("el.datepicker.selectDate"),"model-value":e(Oe),size:"small","validate-event":!1,onInput:V[0]||(V[0]=h=>G.value=h),onChange:We},null,8,["placeholder","model-value"])],2),Re((T(),W("span",{class:b(e(m).e("editor-wrap"))},[B(e(et),{placeholder:e(w)("el.datepicker.selectTime"),"model-value":e(Pe),size:"small","validate-event":!1,onFocus:Be,onInput:V[1]||(V[1]=h=>q.value=h),onChange:Je},null,8,["placeholder","model-value"]),B(e(Mt),{visible:De.value,format:e(he),"parsed-value":i.value,onPick:te},null,8,["visible","format","parsed-value"])],2)),[[e(Ct),at]])],2)):ve("v-if",!0),Re(K("div",{class:b([e(m).e("header"),(H.value==="year"||H.value==="month")&&e(m).e("header--bordered")])},[K("span",{class:b(e(m).e("prev-btn"))},[K("button",{type:"button","aria-label":e(w)("el.datepicker.prevYear"),class:b(["d-arrow-left",e(v).e("icon-btn")]),onClick:V[2]||(V[2]=h=>be(!1))},[B(e(me),null,{default:le(()=>[B(e(dt))]),_:1})],10,Un),Re(K("button",{type:"button","aria-label":e(w)("el.datepicker.prevMonth"),class:b([e(v).e("icon-btn"),"arrow-left"]),onClick:V[3]||(V[3]=h=>pe(!1))},[B(e(me),null,{default:le(()=>[B(e(St))]),_:1})],10,Hn),[[nt,H.value==="date"]])],2),K("span",{role:"button",class:b(e(m).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:V[4]||(V[4]=st(h=>J("year"),["enter"])),onClick:V[5]||(V[5]=h=>J("year"))},de(e(A)),35),Re(K("span",{role:"button","aria-live":"polite",tabindex:"0",class:b([e(m).e("header-label"),{active:H.value==="month"}]),onKeydown:V[6]||(V[6]=st(h=>J("month"),["enter"])),onClick:V[7]||(V[7]=h=>J("month"))},de(e(w)(`el.datepicker.month${e(N)+1}`)),35),[[nt,H.value==="date"]]),K("span",{class:b(e(m).e("next-btn"))},[Re(K("button",{type:"button","aria-label":e(w)("el.datepicker.nextMonth"),class:b([e(v).e("icon-btn"),"arrow-right"]),onClick:V[8]||(V[8]=h=>pe(!0))},[B(e(me),null,{default:le(()=>[B(e(ht))]),_:1})],10,jn),[[nt,H.value==="date"]]),K("button",{type:"button","aria-label":e(w)("el.datepicker.nextYear"),class:b([e(v).e("icon-btn"),"d-arrow-right"]),onClick:V[9]||(V[9]=h=>be(!0))},[B(e(me),null,{default:le(()=>[B(e(ft))]),_:1})],10,Gn)],2)],2),[[nt,H.value!=="time"]]),K("div",{class:b(e(v).e("content")),onKeydown:rt},[H.value==="date"?(T(),ke(_t,{key:0,ref_key:"currentViewRef",ref:_,"selection-mode":e(S),date:i.value,"parsed-value":o.parsedValue,"disabled-date":e(u),"cell-class-name":e(p),onPick:ae},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ve("v-if",!0),H.value==="year"?(T(),ke(Kn,{key:1,ref_key:"currentViewRef",ref:_,date:i.value,"disabled-date":e(u),"parsed-value":o.parsedValue,onPick:E},null,8,["date","disabled-date","parsed-value"])):ve("v-if",!0),H.value==="month"?(T(),ke($t,{key:2,ref_key:"currentViewRef",ref:_,date:i.value,"parsed-value":o.parsedValue,"disabled-date":e(u),onPick:C},null,8,["date","parsed-value","disabled-date"])):ve("v-if",!0)],34)],2)],2),Re(K("div",{class:b(e(v).e("footer"))},[Re(B(e(yt),{text:"",size:"small",class:b(e(v).e("link-btn")),disabled:e(se),onClick:Ce},{default:le(()=>[je(de(e(w)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[nt,e(S)!=="dates"]]),B(e(yt),{plain:"",size:"small",class:b(e(v).e("link-btn")),disabled:e(ne),onClick:re},{default:le(()=>[je(de(e(w)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[nt,e(ce)&&H.value==="date"]])],2))}});var qn=Le(Zn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const Jn=Se({...ra,...ua}),Xn=r=>{const{emit:f}=Ht(),n=Tt(),a=Ut();return m=>{const y=ct(m.value)?m.value():m.value;if(y){f("pick",[j(y[0]).locale(r.value),j(y[1]).locale(r.value)]);return}m.onClick&&m.onClick({attrs:n,slots:a,emit:f})}},da=(r,{defaultValue:f,leftDate:n,rightDate:a,unit:v,onParsedValueChanged:m})=>{const{emit:y}=Ht(),{pickerNs:k}=Ge(Vt),w=Te("date-range-picker"),{t:D,lang:I}=Ne(),g=Xn(I),c=Z(),u=Z(),p=Z({endDate:null,selecting:!1}),s=F=>{p.value=F},M=(F=!1)=>{const $=e(c),L=e(u);Pt([$,L])&&y("pick",[$,L],F)},_=F=>{p.value.selecting=F,F||(p.value.endDate=null)},i=()=>{const[F,$]=ca(e(f),{lang:e(I),unit:v,unlinkPanels:r.unlinkPanels});c.value=void 0,u.value=void 0,n.value=F,a.value=$};return xe(f,F=>{F&&i()},{immediate:!0}),xe(()=>r.parsedValue,F=>{if(we(F)&&F.length===2){const[$,L]=F;c.value=$,n.value=$,u.value=L,m(e(c),e(u))}else i()},{immediate:!0}),{minDate:c,maxDate:u,rangeState:p,lang:I,ppNs:k,drpNs:w,handleChangeRange:s,handleRangeConfirm:M,handleShortcutClick:g,onSelect:_,t:D}},Qn=["onClick"],el=["disabled"],tl=["disabled"],al=["disabled"],nl=["disabled"],pt="month",ll=Ve({__name:"panel-date-range",props:Jn,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(r,{emit:f}){const n=r,a=Ge("EP_PICKER_BASE"),{disabledDate:v,cellClassName:m,format:y,defaultTime:k,clearable:w}=a.props,D=ot(a.props,"shortcuts"),I=ot(a.props,"defaultValue"),{lang:g}=Ne(),c=Z(j().locale(g.value)),u=Z(j().locale(g.value).add(1,pt)),{minDate:p,maxDate:s,rangeState:M,ppNs:_,drpNs:i,handleChangeRange:F,handleRangeConfirm:$,handleShortcutClick:L,onSelect:N,t:z}=da(n,{defaultValue:I,leftDate:c,rightDate:u,unit:pt,onParsedValueChanged:V}),R=Z({min:null,max:null}),G=Z({min:null,max:null}),q=x(()=>`${c.value.year()} ${z("el.datepicker.year")} ${z(`el.datepicker.month${c.value.month()+1}`)}`),Q=x(()=>`${u.value.year()} ${z("el.datepicker.year")} ${z(`el.datepicker.month${u.value.month()+1}`)}`),oe=x(()=>c.value.year()),U=x(()=>c.value.month()),ae=x(()=>u.value.year()),pe=x(()=>u.value.month()),be=x(()=>!!D.value.length),H=x(()=>R.value.min!==null?R.value.min:p.value?p.value.format(l.value):""),A=x(()=>R.value.max!==null?R.value.max:s.value||p.value?(s.value||p.value).format(l.value):""),d=x(()=>G.value.min!==null?G.value.min:p.value?p.value.format(Y.value):""),S=x(()=>G.value.max!==null?G.value.max:s.value||p.value?(s.value||p.value).format(Y.value):""),Y=x(()=>qt(y)),l=x(()=>Zt(y)),C=h=>Pt(h)&&(v?!v(h[0].toDate())&&!v(h[1].toDate()):!0),E=()=>{c.value=c.value.subtract(1,"year"),n.unlinkPanels||(u.value=c.value.add(1,"month")),he("year")},J=()=>{c.value=c.value.subtract(1,"month"),n.unlinkPanels||(u.value=c.value.add(1,"month")),he("month")},ee=()=>{n.unlinkPanels?u.value=u.value.add(1,"year"):(c.value=c.value.add(1,"year"),u.value=c.value.add(1,"month")),he("year")},ce=()=>{n.unlinkPanels?u.value=u.value.add(1,"month"):(c.value=c.value.add(1,"month"),u.value=c.value.add(1,"month")),he("month")},ne=()=>{c.value=c.value.add(1,"year"),he("year")},re=()=>{c.value=c.value.add(1,"month"),he("month")},se=()=>{u.value=u.value.subtract(1,"year"),he("year")},Ce=()=>{u.value=u.value.subtract(1,"month"),he("month")},he=h=>{f("panel-change",[c.value.toDate(),u.value.toDate()],h)},Me=x(()=>{const h=(U.value+1)%12,O=U.value+1>=12?1:0;return n.unlinkPanels&&new Date(oe.value+O,h)<new Date(ae.value,pe.value)}),Pe=x(()=>n.unlinkPanels&&ae.value*12+pe.value-(oe.value*12+U.value+1)>=12),Oe=x(()=>!(p.value&&s.value&&!M.value.selecting&&Pt([p.value,s.value]))),De=x(()=>n.type==="datetime"||n.type==="datetimerange"),Be=(h,O)=>{if(h)return k?j(k[O]||k).locale(g.value).year(h.year()).month(h.month()).date(h.date()):h},at=(h,O=!0)=>{const t=h.minDate,P=h.maxDate,X=Be(t,0),fe=Be(P,1);s.value===fe&&p.value===X||(f("calendar-change",[t.toDate(),P&&P.toDate()]),s.value=fe,p.value=X,!(!O||De.value)&&$())},$e=Z(!1),te=Z(!1),Je=()=>{$e.value=!1},We=()=>{te.value=!1},Ke=(h,O)=>{R.value[O]=h;const t=j(h,l.value).locale(g.value);if(t.isValid()){if(v&&v(t.toDate()))return;O==="min"?(c.value=t,p.value=(p.value||c.value).year(t.year()).month(t.month()).date(t.date()),!n.unlinkPanels&&(!s.value||s.value.isBefore(p.value))&&(u.value=t.add(1,"month"),s.value=p.value.add(1,"month"))):(u.value=t,s.value=(s.value||u.value).year(t.year()).month(t.month()).date(t.date()),!n.unlinkPanels&&(!p.value||p.value.isAfter(s.value))&&(c.value=t.subtract(1,"month"),p.value=s.value.subtract(1,"month")))}},Fe=(h,O)=>{R.value[O]=null},Xe=(h,O)=>{G.value[O]=h;const t=j(h,Y.value).locale(g.value);t.isValid()&&(O==="min"?($e.value=!0,p.value=(p.value||c.value).hour(t.hour()).minute(t.minute()).second(t.second()),(!s.value||s.value.isBefore(p.value))&&(s.value=p.value)):(te.value=!0,s.value=(s.value||u.value).hour(t.hour()).minute(t.minute()).second(t.second()),u.value=s.value,s.value&&s.value.isBefore(p.value)&&(p.value=s.value)))},ze=(h,O)=>{G.value[O]=null,O==="min"?(c.value=p.value,$e.value=!1):(u.value=s.value,te.value=!1)},Ue=(h,O,t)=>{G.value.min||(h&&(c.value=h,p.value=(p.value||c.value).hour(h.hour()).minute(h.minute()).second(h.second())),t||($e.value=O),(!s.value||s.value.isBefore(p.value))&&(s.value=p.value,u.value=h))},rt=(h,O,t)=>{G.value.max||(h&&(u.value=h,s.value=(s.value||u.value).hour(h.hour()).minute(h.minute()).second(h.second())),t||(te.value=O),s.value&&s.value.isBefore(p.value)&&(p.value=s.value))},Qe=()=>{c.value=ca(e(I),{lang:e(g),unit:"month",unlinkPanels:n.unlinkPanels})[0],u.value=c.value.add(1,"month"),f("pick",null)},He=h=>we(h)?h.map(O=>O.format(y)):h.format(y),o=h=>we(h)?h.map(O=>j(O,y).locale(g.value)):j(h,y).locale(g.value);function V(h,O){if(n.unlinkPanels&&O){const t=(h==null?void 0:h.year())||0,P=(h==null?void 0:h.month())||0,X=O.year(),fe=O.month();u.value=t===X&&P===fe?O.add(1,pt):O}else u.value=c.value.add(1,pt),O&&(u.value=u.value.hour(O.hour()).minute(O.minute()).second(O.second()))}return f("set-picker-option",["isValidValue",C]),f("set-picker-option",["parseUserInput",o]),f("set-picker-option",["formatToString",He]),f("set-picker-option",["handleClear",Qe]),(h,O)=>(T(),W("div",{class:b([e(_).b(),e(i).b(),{"has-sidebar":h.$slots.sidebar||e(be),"has-time":e(De)}])},[K("div",{class:b(e(_).e("body-wrapper"))},[it(h.$slots,"sidebar",{class:b(e(_).e("sidebar"))}),e(be)?(T(),W("div",{key:0,class:b(e(_).e("sidebar"))},[(T(!0),W(ge,null,_e(e(D),(t,P)=>(T(),W("button",{key:P,type:"button",class:b(e(_).e("shortcut")),onClick:X=>e(L)(t)},de(t.text),11,Qn))),128))],2)):ve("v-if",!0),K("div",{class:b(e(_).e("body"))},[e(De)?(T(),W("div",{key:0,class:b(e(i).e("time-header"))},[K("span",{class:b(e(i).e("editors-wrap"))},[K("span",{class:b(e(i).e("time-picker-wrap"))},[B(e(et),{size:"small",disabled:e(M).selecting,placeholder:e(z)("el.datepicker.startDate"),class:b(e(i).e("editor")),"model-value":e(H),"validate-event":!1,onInput:O[0]||(O[0]=t=>Ke(t,"min")),onChange:O[1]||(O[1]=t=>Fe(t,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Re((T(),W("span",{class:b(e(i).e("time-picker-wrap"))},[B(e(et),{size:"small",class:b(e(i).e("editor")),disabled:e(M).selecting,placeholder:e(z)("el.datepicker.startTime"),"model-value":e(d),"validate-event":!1,onFocus:O[2]||(O[2]=t=>$e.value=!0),onInput:O[3]||(O[3]=t=>Xe(t,"min")),onChange:O[4]||(O[4]=t=>ze(t,"min"))},null,8,["class","disabled","placeholder","model-value"]),B(e(Mt),{visible:$e.value,format:e(Y),"datetime-role":"start","parsed-value":c.value,onPick:Ue},null,8,["visible","format","parsed-value"])],2)),[[e(Ct),Je]])],2),K("span",null,[B(e(me),null,{default:le(()=>[B(e(ht))]),_:1})]),K("span",{class:b([e(i).e("editors-wrap"),"is-right"])},[K("span",{class:b(e(i).e("time-picker-wrap"))},[B(e(et),{size:"small",class:b(e(i).e("editor")),disabled:e(M).selecting,placeholder:e(z)("el.datepicker.endDate"),"model-value":e(A),readonly:!e(p),"validate-event":!1,onInput:O[5]||(O[5]=t=>Ke(t,"max")),onChange:O[6]||(O[6]=t=>Fe(t,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Re((T(),W("span",{class:b(e(i).e("time-picker-wrap"))},[B(e(et),{size:"small",class:b(e(i).e("editor")),disabled:e(M).selecting,placeholder:e(z)("el.datepicker.endTime"),"model-value":e(S),readonly:!e(p),"validate-event":!1,onFocus:O[7]||(O[7]=t=>e(p)&&(te.value=!0)),onInput:O[8]||(O[8]=t=>Xe(t,"max")),onChange:O[9]||(O[9]=t=>ze(t,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),B(e(Mt),{"datetime-role":"end",visible:te.value,format:e(Y),"parsed-value":u.value,onPick:rt},null,8,["visible","format","parsed-value"])],2)),[[e(Ct),We]])],2)],2)):ve("v-if",!0),K("div",{class:b([[e(_).e("content"),e(i).e("content")],"is-left"])},[K("div",{class:b(e(i).e("header"))},[K("button",{type:"button",class:b([e(_).e("icon-btn"),"d-arrow-left"]),onClick:E},[B(e(me),null,{default:le(()=>[B(e(dt))]),_:1})],2),K("button",{type:"button",class:b([e(_).e("icon-btn"),"arrow-left"]),onClick:J},[B(e(me),null,{default:le(()=>[B(e(St))]),_:1})],2),h.unlinkPanels?(T(),W("button",{key:0,type:"button",disabled:!e(Pe),class:b([[e(_).e("icon-btn"),{"is-disabled":!e(Pe)}],"d-arrow-right"]),onClick:ne},[B(e(me),null,{default:le(()=>[B(e(ft))]),_:1})],10,el)):ve("v-if",!0),h.unlinkPanels?(T(),W("button",{key:1,type:"button",disabled:!e(Me),class:b([[e(_).e("icon-btn"),{"is-disabled":!e(Me)}],"arrow-right"]),onClick:re},[B(e(me),null,{default:le(()=>[B(e(ht))]),_:1})],10,tl)):ve("v-if",!0),K("div",null,de(e(q)),1)],2),B(_t,{"selection-mode":"range",date:c.value,"min-date":e(p),"max-date":e(s),"range-state":e(M),"disabled-date":e(v),"cell-class-name":e(m),onChangerange:e(F),onPick:at,onSelect:e(N)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),K("div",{class:b([[e(_).e("content"),e(i).e("content")],"is-right"])},[K("div",{class:b(e(i).e("header"))},[h.unlinkPanels?(T(),W("button",{key:0,type:"button",disabled:!e(Pe),class:b([[e(_).e("icon-btn"),{"is-disabled":!e(Pe)}],"d-arrow-left"]),onClick:se},[B(e(me),null,{default:le(()=>[B(e(dt))]),_:1})],10,al)):ve("v-if",!0),h.unlinkPanels?(T(),W("button",{key:1,type:"button",disabled:!e(Me),class:b([[e(_).e("icon-btn"),{"is-disabled":!e(Me)}],"arrow-left"]),onClick:Ce},[B(e(me),null,{default:le(()=>[B(e(St))]),_:1})],10,nl)):ve("v-if",!0),K("button",{type:"button",class:b([e(_).e("icon-btn"),"d-arrow-right"]),onClick:ee},[B(e(me),null,{default:le(()=>[B(e(ft))]),_:1})],2),K("button",{type:"button",class:b([e(_).e("icon-btn"),"arrow-right"]),onClick:ce},[B(e(me),null,{default:le(()=>[B(e(ht))]),_:1})],2),K("div",null,de(e(Q)),1)],2),B(_t,{"selection-mode":"range",date:u.value,"min-date":e(p),"max-date":e(s),"range-state":e(M),"disabled-date":e(v),"cell-class-name":e(m),onChangerange:e(F),onPick:at,onSelect:e(N)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),e(De)?(T(),W("div",{key:0,class:b(e(_).e("footer"))},[e(w)?(T(),ke(e(yt),{key:0,text:"",size:"small",class:b(e(_).e("link-btn")),onClick:Qe},{default:le(()=>[je(de(e(z)("el.datepicker.clear")),1)]),_:1},8,["class"])):ve("v-if",!0),B(e(yt),{plain:"",size:"small",class:b(e(_).e("link-btn")),disabled:e(Oe),onClick:O[10]||(O[10]=t=>e($)(!1))},{default:le(()=>[je(de(e(z)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):ve("v-if",!0)],2))}});var sl=Le(ll,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const ol=Se({...ua}),rl=["pick","set-picker-option"],ul=({unlinkPanels:r,leftDate:f,rightDate:n})=>{const{t:a}=Ne(),v=()=>{f.value=f.value.subtract(1,"year"),r.value||(n.value=n.value.subtract(1,"year"))},m=()=>{r.value||(f.value=f.value.add(1,"year")),n.value=n.value.add(1,"year")},y=()=>{f.value=f.value.add(1,"year")},k=()=>{n.value=n.value.subtract(1,"year")},w=x(()=>`${f.value.year()} ${a("el.datepicker.year")}`),D=x(()=>`${n.value.year()} ${a("el.datepicker.year")}`),I=x(()=>f.value.year()),g=x(()=>n.value.year()===f.value.year()?f.value.year()+1:n.value.year());return{leftPrevYear:v,rightNextYear:m,leftNextYear:y,rightPrevYear:k,leftLabel:w,rightLabel:D,leftYear:I,rightYear:g}},il=["onClick"],cl=["disabled"],dl=["disabled"],mt="year",fl=Ve({name:"DatePickerMonthRange"}),vl=Ve({...fl,props:ol,emits:rl,setup(r,{emit:f}){const n=r,{lang:a}=Ne(),v=Ge("EP_PICKER_BASE"),{shortcuts:m,disabledDate:y,format:k}=v.props,w=ot(v.props,"defaultValue"),D=Z(j().locale(a.value)),I=Z(j().locale(a.value).add(1,mt)),{minDate:g,maxDate:c,rangeState:u,ppNs:p,drpNs:s,handleChangeRange:M,handleRangeConfirm:_,handleShortcutClick:i,onSelect:F}=da(n,{defaultValue:w,leftDate:D,rightDate:I,unit:mt,onParsedValueChanged:be}),$=x(()=>!!m.length),{leftPrevYear:L,rightNextYear:N,leftNextYear:z,rightPrevYear:R,leftLabel:G,rightLabel:q,leftYear:Q,rightYear:oe}=ul({unlinkPanels:ot(n,"unlinkPanels"),leftDate:D,rightDate:I}),U=x(()=>n.unlinkPanels&&oe.value>Q.value+1),ae=(H,A=!0)=>{const d=H.minDate,S=H.maxDate;c.value===S&&g.value===d||(c.value=S,g.value=d,A&&_())},pe=H=>H.map(A=>A.format(k));function be(H,A){if(n.unlinkPanels&&A){const d=(H==null?void 0:H.year())||0,S=A.year();I.value=d===S?A.add(1,mt):A}else I.value=D.value.add(1,mt)}return f("set-picker-option",["formatToString",pe]),(H,A)=>(T(),W("div",{class:b([e(p).b(),e(s).b(),{"has-sidebar":!!H.$slots.sidebar||e($)}])},[K("div",{class:b(e(p).e("body-wrapper"))},[it(H.$slots,"sidebar",{class:b(e(p).e("sidebar"))}),e($)?(T(),W("div",{key:0,class:b(e(p).e("sidebar"))},[(T(!0),W(ge,null,_e(e(m),(d,S)=>(T(),W("button",{key:S,type:"button",class:b(e(p).e("shortcut")),onClick:Y=>e(i)(d)},de(d.text),11,il))),128))],2)):ve("v-if",!0),K("div",{class:b(e(p).e("body"))},[K("div",{class:b([[e(p).e("content"),e(s).e("content")],"is-left"])},[K("div",{class:b(e(s).e("header"))},[K("button",{type:"button",class:b([e(p).e("icon-btn"),"d-arrow-left"]),onClick:A[0]||(A[0]=(...d)=>e(L)&&e(L)(...d))},[B(e(me),null,{default:le(()=>[B(e(dt))]),_:1})],2),H.unlinkPanels?(T(),W("button",{key:0,type:"button",disabled:!e(U),class:b([[e(p).e("icon-btn"),{[e(p).is("disabled")]:!e(U)}],"d-arrow-right"]),onClick:A[1]||(A[1]=(...d)=>e(z)&&e(z)(...d))},[B(e(me),null,{default:le(()=>[B(e(ft))]),_:1})],10,cl)):ve("v-if",!0),K("div",null,de(e(G)),1)],2),B($t,{"selection-mode":"range",date:D.value,"min-date":e(g),"max-date":e(c),"range-state":e(u),"disabled-date":e(y),onChangerange:e(M),onPick:ae,onSelect:e(F)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),K("div",{class:b([[e(p).e("content"),e(s).e("content")],"is-right"])},[K("div",{class:b(e(s).e("header"))},[H.unlinkPanels?(T(),W("button",{key:0,type:"button",disabled:!e(U),class:b([[e(p).e("icon-btn"),{"is-disabled":!e(U)}],"d-arrow-left"]),onClick:A[2]||(A[2]=(...d)=>e(R)&&e(R)(...d))},[B(e(me),null,{default:le(()=>[B(e(dt))]),_:1})],10,dl)):ve("v-if",!0),K("button",{type:"button",class:b([e(p).e("icon-btn"),"d-arrow-right"]),onClick:A[3]||(A[3]=(...d)=>e(N)&&e(N)(...d))},[B(e(me),null,{default:le(()=>[B(e(ft))]),_:1})],2),K("div",null,de(e(q)),1)],2),B($t,{"selection-mode":"range",date:I.value,"min-date":e(g),"max-date":e(c),"range-state":e(u),"disabled-date":e(y),onChangerange:e(M),onPick:ae,onSelect:e(F)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var pl=Le(vl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const ml=function(r){switch(r){case"daterange":case"datetimerange":return sl;case"monthrange":return pl;default:return qn}};j.extend(nn);j.extend(sn);j.extend(Aa);j.extend(rn);j.extend(cn);j.extend(fn);j.extend(pn);j.extend(hn);var hl=Ve({name:"ElDatePicker",install:null,props:bn,emits:["update:modelValue"],setup(r,{expose:f,emit:n,slots:a}){const v=Te("picker-panel");Dt("ElPopperOptions",_a(ot(r,"popperOptions"))),Dt(Vt,{slots:a,pickerNs:v});const m=Z();f({focus:(w=!0)=>{var D;(D=m.value)==null||D.focus(w)},handleOpen:()=>{var w;(w=m.value)==null||w.handleOpen()},handleClose:()=>{var w;(w=m.value)==null||w.handleClose()}});const k=w=>{n("update:modelValue",w)};return()=>{var w;const D=(w=r.format)!=null?w:Ea[r.type]||lt,I=ml(r.type);return B(Ka,Kt(r,{format:D,type:r.type,ref:m,"onUpdate:modelValue":k}),{default:g=>B(I,g,null),"range-separator":a["range-separator"]})}}});const bt=hl;bt.install=r=>{r.component(bt.name,bt)};const Dl=bt;export{Dl as E};
