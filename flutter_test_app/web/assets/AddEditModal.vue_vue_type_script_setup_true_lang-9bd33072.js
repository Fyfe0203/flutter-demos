import{d as w,r as p,t as g,l as x,o as B,m as C,w as a,e as y,f as o,g as e,i,j as N,E as P,B as R,k as F}from"./index-cba2b4c0.js";import{E as I,a as M}from"./el-form-item-a7ed5b06.js";/* empty css                  */import{_ as j}from"./UploadAvatar.vue_vue_type_script_setup_true_lang-8f21207f.js";/* empty css                 */import{u as A}from"./useRule-31f8c705.js";const G={class:"grid"},$=y("div",{class:"text-xs pt-2"},"支持格式：PNG、JPG，大小不超过2M",-1),q=w({__name:"AddEditModal",props:{row:{type:Object,default:()=>{}},type:{type:Number,default:1}},emits:["close"],setup(V,{emit:f}){const d=V,_=p(),l=p({type:d.type}),c=A.empty();g(()=>{var n;(n=d.row)!=null&&n.id&&(l.value={type:d.type,...d.row})});const u=p(!1),v=()=>{_.value.validate(async n=>{if(n)try{u.value=!0,await N.post("/banner/opt",l.value),f("close",!0)}finally{u.value=!1}})};return(n,t)=>{const m=P,r=I,k=x("Plus"),z=R,E=j,b=F,U=M;return B(),C(U,{ref_key:"formRef",ref:_,model:e(l),size:"large","label-position":"top"},{default:a(()=>[y("div",G,[o(r,{label:"图片名称",prop:"name",rules:e(c)},{default:a(()=>[o(m,{modelValue:e(l).name,"onUpdate:modelValue":t[0]||(t[0]=s=>e(l).name=s)},null,8,["modelValue"])]),_:1},8,["rules"]),o(r,{label:"图片",prop:"url",rules:e(c)},{default:a(()=>[o(E,{modelValue:e(l).url,"onUpdate:modelValue":t[1]||(t[1]=s=>e(l).url=s),"file-size":e(l).size,"onUpdate:fileSize":t[2]||(t[2]=s=>e(l).size=s),class:"w-full h-20"},{default:a(()=>[o(z,{size:25,class:"!w-full !h-full border border-dashed border-[#ccc] rounded-lg"},{default:a(()=>[o(k)]),_:1})]),_:1},8,["modelValue","file-size"]),$]),_:1},8,["rules"]),o(r,{label:"图片大小"},{default:a(()=>[o(m,{modelValue:e(l).size,"onUpdate:modelValue":t[3]||(t[3]=s=>e(l).size=s),disabled:""},{append:a(()=>[i("KB")]),_:1},8,["modelValue"])]),_:1}),o(r,{label:"链接地址",prop:"linkUrl"},{default:a(()=>[o(m,{modelValue:e(l).linkUrl,"onUpdate:modelValue":t[4]||(t[4]=s=>e(l).linkUrl=s)},null,8,["modelValue"])]),_:1})]),o(r,{class:"pt-4"},{default:a(()=>[o(b,{type:"info",disabled:e(u),onClick:t[5]||(t[5]=s=>f("close"))},{default:a(()=>[i("关闭")]),_:1},8,["disabled"]),o(b,{type:"primary",loading:e(u),onClick:v},{default:a(()=>[i("保存")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])}}});export{q as _};
