import{t as a,u as b,a as d}from"./entry.iYjkhHK1.js";import{u as l}from"./useFormat.c8XsG793.js";import{r as f,w as h}from"./swiper-vue.o0IHd9hR.js";const T=r=>({botName:[{required:!0,message:a("bot.t08"),min:1,max:20,trigger:"change"},{message:a("bot.t09"),pattern:/^[a-z0-9\s]+$/i,trigger:"change"}],botCoinParamList:[{required:!0,message:a("bot.t10"),trigger:"change"},{validator(e,o,t){const i=o.reduce((n,s)=>l.plus(n,s.ratio),0).toFixed();i>100?t(new Error(a("bot.t11"))):i<100?t(new Error(a("bot.t12"))):t()},trigger:"change"}],amount:[{required:!0,message:a("bot.t13"),trigger:"change,blur"},{validator(e,o,t){const i=b().app,n=+(r.value.balance??0),s=+(r.value.minBalance??i.minInvestAmount??0),c=r.value.coinCode??i.stableCoin;o>n?t(new Error(a("bot.t14"))):o<s?t(new Error(a("bot.t15",[s,c]))):t()},trigger:"change"}],startTime:[{required:!0,message:a("bot.t16"),trigger:"change"}]}),x=({botType:r,botNo:e="",chainType:o=""})=>f({botNo:e,botType:r,botName:"",chainType:o,allocationType:2,botCoinParamList:[],amount:void 0,coinCode:"",price:void 0,botExecConfigParam:{smartAdvancePojo:{status:0,execType:void 0,val:""},investAdvancePojo:{frequency:void 0,timeType:void 0,times:1,pointTime:"12:00",startTime:void 0}}}),w=async(r,e,o,t)=>{o.value=!0;const{data:i}=await d.get("/bot/change/info",{botNo:r},{lazy:!0});h(i,n=>{const s=n==null?void 0:n.data;if(!s)return;const{botName:c,botType:m,execConfig:g,remainInvert:p,coins:u,price:v}=s;e.botName=c,e.botType=m,e.amount=p,e.price=v,e.botCoinParamList=u,e.chainType=u[0].chainType,m===2?e.botExecConfigParam.investAdvancePojo=JSON.parse(g):e.botExecConfigParam.smartAdvancePojo=JSON.parse(g),o.value=!1,t&&setTimeout(t)})};export{x as c,w as f,T as g};
