import{d as L,al as S,ay as V,o as f,m as y,w as a,e as d,f as l,i as o,C as i,Y as b,g as m,x as _,ax as g,j as v,k as A}from"./index-cba2b4c0.js";import{v as I}from"./el-loading-73839a64.js";import{u as P,_ as R,a as H}from"./useTable-141dc978.js";import{E as M,a as Q}from"./el-table-column-29b9dcad.js";import"./el-checkbox-ee806963.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-b7327fbb.js";import"./el-tag-3e82924f.js";/* empty css                  */import{_ as Y}from"./AddEditModel.vue_vue_type_script_setup_true_lang-61318e77.js";import{_ as q}from"./SignAddress.vue_vue_type_script_setup_true_lang-a543f452.js";import{u as $}from"./useConfirm-a0ba45e7.js";import{E as C}from"./message-71d8a824.js";import"./el-form-item-a7ed5b06.js";import"./castArray-8dcd6c67.js";import"./_Uint8Array-4a491129.js";import"./_initCloneObject-d933937d.js";/* empty css                 */import"./el-select-7e09c5da.js";import"./strings-091bd2d7.js";import"./isEqual-014128fa.js";import"./index-877b19ec.js";import"./hasIn-40dec949.js";import"./flatten-b246eae0.js";import"./raf-5985b260.js";import"./UploadAvatar.vue_vue_type_script_setup_true_lang-8f21207f.js";import"./enum-223dcce8.js";import"./useRule-31f8c705.js";const G={class:"flex justify-end flex-1"},J=["data-key"],K={class:"table-btn-cell"},kt=L({__name:"index",setup(O){const{pending:h,tableData:k,pagination:z,refresh:c}=P({method:"postForm",url:"/chain/list"}),{t:p}=S(),w=e=>{g.add({component:Y,width:"800px",title:e!=null&&e.id?"编辑":"新增",showClose:!1,props:{row:e??{}},afterClose(n){n&&c()}})},B=e=>{g.add({component:q,width:"700px",title:"查看签名地址和私钥",props:{row:e??{}}})},E=e=>{$(p("system.chain.t19"),async n=>{try{await v.postForm("/chain/delete",{id:e.id}),C.success("操作成功"),c()}finally{n()}})},F=e=>{$(p("system.chain.t20",[e.status?p("system.chain.t17"):p("system.chain.t18")]),async n=>{try{await v.post("/chain/update/status",{id:e.id,status:e.status?0:1}),C.success("操作成功"),c()}finally{n()}})};return(e,n)=>{const r=A,s=M,N=Q,T=R,D=H,U=V("lazy"),j=I;return f(),y(D,{"list-title":e.$t("system.chain.t1"),pending:m(h),class:"p-4"},{action:a(()=>[d("div",G,[l(r,{type:"primary",size:"small",onClick:n[0]||(n[0]=t=>w())},{default:a(()=>[o(i(e.$t("public.t5")),1)]),_:1})])]),result:a(()=>[b((f(),y(N,{data:m(k),class:"w-full",stripe:""},{default:a(()=>[l(s,{label:e.$t("system.chain.t2"),"min-width":"100",align:"center","show-overflow-tooltip":""},{default:a(t=>[o(i(t.row.chainType||"-"),1)]),_:1},8,["label"]),l(s,{label:e.$t("system.chain.t3"),"min-width":"130",align:"center","show-overflow-tooltip":""},{default:a(t=>[o(i(t.row.chainName||"-"),1)]),_:1},8,["label"]),l(s,{label:e.$t("system.chain.t4"),"min-width":"100",align:"center","show-overflow-tooltip":""},{default:a(t=>[d("span",{class:_({"main-color":t.row.status})},i(t.row.status?e.$t("system.chain.t18"):e.$t("system.chain.t17")),3)]),_:1},8,["label"]),l(s,{label:e.$t("system.chain.t5"),"min-width":"100",align:"center","show-overflow-tooltip":""},{default:a(t=>[o(i(t.row.chainId||"-"),1)]),_:1},8,["label"]),l(s,{label:e.$t("system.chain.t6"),"min-width":"100",align:"center","show-overflow-tooltip":""},{default:a(t=>[o(i(t.row.baseCoinCode||"-"),1)]),_:1},8,["label"]),l(s,{label:e.$t("system.chain.t7"),"min-width":"100",align:"center","show-overflow-tooltip":""},{default:a(t=>[o(i(t.row.baseCoinAccuracy||"-"),1)]),_:1},8,["label"]),l(s,{label:"链本币地址","min-width":"100",align:"center","show-overflow-tooltip":""},{default:a(t=>[o(i(t.row.baseCoinAddress||"-"),1)]),_:1}),l(s,{label:e.$t("system.chain.t8"),"min-width":"100",align:"center","show-overflow-tooltip":""},{default:a(t=>[b(d("img",{"data-key":t.row.chainType,class:"w-8 h-8 object-cover m-auto rounded-full",alt:""},null,8,J),[[U,t.row.imgUrl]])]),_:1},8,["label"]),l(s,{label:e.$t("system.chain.t9"),"min-width":"100",align:"center","show-overflow-tooltip":""},{default:a(t=>[o(i(t.row.protocol||"-"),1)]),_:1},8,["label"]),l(s,{label:"RPC URL","min-width":"180",align:"center","show-overflow-tooltip":""},{default:a(t=>[o(i(t.row.rpcUrls||"-"),1)]),_:1}),l(s,{label:e.$t("system.chain.t10"),"min-width":"180",align:"center","show-overflow-tooltip":""},{default:a(t=>[o(i(t.row.scanUrl||"-"),1)]),_:1},8,["label"]),l(s,{label:e.$t("system.chain.t11"),"min-width":"80",align:"center","show-overflow-tooltip":""},{default:a(t=>[l(r,{type:"primary",size:"small",plain:"",onClick:u=>B(t.row)},{default:a(()=>[o("查看")]),_:2},1032,["onClick"])]),_:1},8,["label"]),l(s,{label:e.$t("system.chain.t13"),"min-width":"130",align:"center","show-overflow-tooltip":""},{default:a(t=>[o(i(t.row.confirmBlockNum||"-"),1)]),_:1},8,["label"]),l(s,{label:e.$t("system.chain.t14"),"min-width":"130",align:"center","show-overflow-tooltip":""},{default:a(t=>[o(i(t.row.invalidBlockNum||"-"),1)]),_:1},8,["label"]),l(s,{label:e.$t("public.t7"),"min-width":"160",align:"center",fixed:"right"},{default:a(t=>[d("div",K,[l(r,{type:t.row.status?"danger":"success",size:"small",plain:"",class:_({red:t.row.status}),onClick:u=>F(t.row)},{default:a(()=>[o(i(t.row.status?e.$t("system.chain.t17"):e.$t("system.chain.t18")),1)]),_:2},1032,["type","class","onClick"]),l(r,{type:"primary",size:"small",plain:"",onClick:u=>w(t.row)},{default:a(()=>[o(i(e.$t("public.t11")),1)]),_:2},1032,["onClick"]),l(r,{type:"danger",size:"small",plain:"",class:"red",onClick:u=>E(t.row)},{default:a(()=>[o(i(e.$t("public.t12")),1)]),_:2},1032,["onClick"])])]),_:1},8,["label"])]),_:1},8,["data"])),[[j,m(h)]]),l(T,{pagination:m(z),class:"mt-4",onChange:m(c)},null,8,["pagination","onChange"])]),_:1},8,["list-title","pending"])}}});export{kt as default};
