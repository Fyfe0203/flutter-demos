import{_ as W}from"./Gift.vue.70WnRpdB.js";import{_ as X}from"./Type.vue.yqEcCASH.js";import{E as Y}from"./el-avatar.Xo0dQ3HT.js";import{_ as Z}from"./Address.vue.DJDcdXa5.js";import{i as q,a as J,u as g,g as K,c as v,t as d,s as k,j as O,b as Q,d as tt}from"./entry.iYjkhHK1.js";import{_ as et}from"./Timekeeping.vue.v5Dnz3fA.js";import st from"./Button.0ywGpm4G.js";import{_ as ot}from"./Share.vue.LWQb9ozr.js";import{_ as at}from"./BotDetail1.vue.43S8tmFT.js";import{s as nt}from"./switch-state.VISIyDoo.js";import{d as lt,a as rt,c as y,ad as it,w as B,j as ct,F as p,X as _,Y as r,H as o,u as e,Z as N,a2 as l,W as a,a6 as i,P as pt,G as T,T as E}from"./swiper-vue.o0IHd9hR.js";const mt={class:"flex-1"},dt={class:"h-7 relative"},ut={class:"flex-center-x gap-[10px] mb-3 flex-wrap"},ft={class:"text-base md:text-[34px] font-semibold"},_t={class:"flex-center-x flex-wrap gap-y-4 gap-x-[30px] text-sm text-gray2"},xt={class:"flex-center-x gap-[10px] w-full md:w-auto"},bt={class:"flex-center gap-[10px]"},gt={class:"flex-center gap-[10px]"},vt={class:"flex-center-x gap-[10px] fixed bottom-0 left-0 right-0 bg-white z-5 p-5 border-t border-[#D9ECFF] md:static md:border-none md:bg-transparent md:p-0"},At=lt({__name:"Detail1",emits:["info"],async setup(yt,{emit:D}){let u,h;const F=D,w=(s=!1)=>{v.add({type:"drawer",title:s?d("bot.t72"):d("bot.t73"),component:"CreateFormEdit",width:"440px",props:{disabled:s,...t.value},afterClose:n=>{n&&m()}})},A=()=>{v.add({component:"BotInvest",title:d("bot.t74"),width:"440px",showClose:!1,props:{...t.value},afterClose:s=>{s&&m()}})},f=rt(!1),z=y(()=>({botNo:q().params.id})),{data:S,pending:V,execute:m}=([u,h]=it(()=>J.get("/bot/search/basic",z,{lazy:!0,immediate:!1})),u=await u,h(),u),t=y(()=>{var s;return((s=S.value)==null?void 0:s.data)||{}}),$=y(()=>g().app.authorization);B($,()=>{m()},{immediate:!0}),B(t,()=>{F("info",t.value),f.value=t.value.status===3});const H=()=>{var s;k("/create/"+((s=O(g().enum.botsList,+t.value.botType))==null?void 0:s.key)+"/"+t.value.botNo)},C=()=>{if(!$.value){Q.error(d("bot.t76")),k(g().app.loginUrl);return}v.add({component:"BotBuyDialog",width:"850px",title:d("bot.t75"),props:{botNo:t.value.botNo,botType:+t.value.botType},afterClose:s=>s&&m()})},R=K("bot-buy-dialog").on(C);return ct(R),(s,n)=>{const U=W,j=X,G=Y,I=Z,x=tt,L=et,c=st,M=ot,P=at;return p(),_(P,{loading:e(V),class:"flex lg:flex-row gap-4 items-start lg:items-center flex-col py-4"},{default:r(()=>[o("div",mt,[o("div",dt,[e(t).proxyFlag===1?(p(),_(U,{key:0,border:!1})):N("",!0)]),o("div",ut,[o("div",ft,l(e(t).botName),1),a(j,{type:e(t).botType,cls:"bg-[#C9D8FF]",class:"md:text-lg md:!h-[30px]"},null,8,["type"])]),o("div",_t,[o("div",xt,[a(G,{src:e(t).creatorHeadUrl,size:26,class:"border border-[#E6E9ED] cursor-pointer"},null,8,["src"]),a(I,{address:e(t).nftAddress,class:"text-gray2 underline underline-current md:text-sm"},{default:r(()=>[i(l(e(t).creatorName),1)]),_:1},8,["address"])]),o("div",{class:"flex-center gap-[10px] cursor-pointer",onClick:n[0]||(n[0]=b=>f.value=!e(f))},[a(x,{name:"home/days",class:"text-gray-sec"}),a(L,{clock:e(f),"begin-time":e(t).createTimestamp,toggle:""},null,8,["clock","begin-time"])]),o("div",bt,[a(x,{name:"bot/people",class:"text-gray-sec"}),o("span",null,l(e(t).sellNum),1)]),o("div",gt,[a(x,{name:"bot/status",class:"text-gray-sec"}),o("span",{class:pt(e(t).status===3?"":"text-red-500")},l(e(t).status===3?s.$t("enum.t28"):s.$t("enum.t36")),3)])])]),o("div",vt,[e(t).userRole===1?(p(),T(E,{key:0},[a(c,{class:"!h-[46px] !w-[110px] flex-1 md:flex-none",onClick:n[1]||(n[1]=b=>e(nt)(e(t).status!==3,e(t),e(m)))},{default:r(()=>[i(l(e(t).status===3?s.$t("bot.t30"):s.$t("bot.t31")),1)]),_:1}),e(t).status!==3?(p(),_(c,{key:0,class:"!h-[46px] !w-[110px] flex-1 md:flex-none",plain:"",onClick:A},{default:r(()=>[i(l(s.$t("bot.t70")),1)]),_:1})):N("",!0),a(c,{class:"!h-[46px] !w-[110px] flex-1 md:flex-none",plain:"",onClick:n[2]||(n[2]=b=>w())},{default:r(()=>[i(l(s.$t("bot.t71")),1)]),_:1})],64)):e(t).userRole===2?(p(),T(E,{key:1},[a(c,{class:"!h-[46px] !w-[110px] flex-1 md:flex-none",plain:"",onClick:H},{default:r(()=>[i(l(s.$t("common.t11")),1)]),_:1}),a(c,{class:"!h-[46px] !w-[110px] flex-1 md:flex-none",plain:"",onClick:n[3]||(n[3]=b=>w(!0))},{default:r(()=>[i(l(s.$t("bot.t01")),1)]),_:1})],64)):(p(),_(c,{key:2,class:"!h-[46px] min-w-[120px]",onClick:C},{default:r(()=>[i(l(+e(t).price?`${e(t).price} ${s.$stableCoin}`:s.$t("bot.t34")),1)]),_:1})),a(M,{info:e(t)},null,8,["info"])])]),_:1},8,["loading"])}}});export{At as _};
